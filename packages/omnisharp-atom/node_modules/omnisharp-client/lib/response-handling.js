"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.serverLineNumberArrays = exports.serverLineNumbers = undefined;
exports.requestMutator = requestMutator;
exports.responseMutator = responseMutator;

var _lodash = require("lodash");

var serverLineNumbers = exports.serverLineNumbers = ["Line", "Column", "StartLine", "StartColumn", "EndLine", "EndColumn", "SelectionStartColumn", "SelectionStartLine", "SelectionEndColumn", "SelectionEndLine", "Selection.Start.Line", "Selection.Start.Column", "Selection.End.Line", "Selection.End.Column", "Location.Line", "Location.Column", "Location.EndLine", "Location.EndColumn"];
var serverLineNumberArrays = exports.serverLineNumberArrays = ["Lines"];
function requestMutator(data) {
    if ((0, _lodash.isArray)(data)) {
        (0, _lodash.each)(data, function (item) {
            return requestMutator(item);
        });
        return data;
    }
    (0, _lodash.each)(serverLineNumbers, function (path) {
        var hasPath = (0, _lodash.has)(data, path);
        if (hasPath) {
            var value = (0, _lodash.get)(data, path);
            value = value + 1;
            (0, _lodash.set)(data, path, value);
        }
    });
    (0, _lodash.each)(serverLineNumberArrays, function (path) {
        var hasPath = (0, _lodash.has)(data, path);
        if (hasPath) {
            var value = (0, _lodash.get)(data, path);
            for (var i = 0; i < value.length; i++) {
                value[i] = value[i] + 1;
            }
            (0, _lodash.set)(data, path, value);
        }
    });
    (0, _lodash.each)((0, _lodash.filter)(data, function (z) {
        return (0, _lodash.isArray)(z);
    }), function (item) {
        return requestMutator(item);
    });
    return data;
}
function responseMutator(data) {
    if ((0, _lodash.isArray)(data)) {
        (0, _lodash.each)(data, function (item) {
            return responseMutator(item);
        });
        return data;
    }
    (0, _lodash.each)(serverLineNumbers, function (path) {
        var hasPath = (0, _lodash.has)(data, path);
        if (hasPath) {
            var value = (0, _lodash.get)(data, path);
            value = value - 1;
            (0, _lodash.set)(data, path, value);
        }
    });
    (0, _lodash.each)(serverLineNumberArrays, function (path) {
        var hasPath = (0, _lodash.has)(data, path);
        if (hasPath) {
            var value = (0, _lodash.get)(data, path);
            for (var i = 0; i < value.length; i++) {
                value[i] = value[i] + 1;
            }
            (0, _lodash.set)(data, path, value);
        }
    });
    (0, _lodash.each)((0, _lodash.filter)(data, function (z) {
        return (0, _lodash.isArray)(z);
    }), function (item) {
        return responseMutator(item);
    });
    return data;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9yZXNwb25zZS1oYW5kbGluZy50cyIsImxpYi9yZXNwb25zZS1oYW5kbGluZy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7UUFrQkE7UUErQkE7O0FDakRBOztBREVPLElBQU0sZ0RBQW9CLENBQzdCLE1BRDZCLEVBQ3JCLFFBRHFCLEVBRTdCLFdBRjZCLEVBRWhCLGFBRmdCLEVBRzdCLFNBSDZCLEVBR2xCLFdBSGtCLEVBSTdCLHNCQUo2QixFQUlMLG9CQUpLLEVBSzdCLG9CQUw2QixFQUtQLGtCQUxPLEVBTTdCLHNCQU42QixFQU1MLHdCQU5LLEVBTzdCLG9CQVA2QixFQU9QLHNCQVBPLEVBUTdCLGVBUjZCLEVBUVosaUJBUlksRUFTN0Isa0JBVDZCLEVBU1Qsb0JBVFMsQ0FBcEI7QUFZTixJQUFNLDBEQUF5QixDQUNsQyxPQURrQyxDQUF6QjtBQUliLFNBQUEsY0FBQSxDQUErQixJQUEvQixFQUF3QztBQUNwQyxRQUFJLHFCQUFRLElBQVIsQ0FBSixFQUFtQjtBQUNmLDBCQUFLLElBQUwsRUFBVzttQkFBUSxlQUFlLElBQWY7U0FBUixDQUFYLENBRGU7QUFFZixlQUFPLElBQVAsQ0FGZTtLQUFuQjtBQUtBLHNCQUFLLGlCQUFMLEVBQXdCLGdCQUFJO0FBQ3hCLFlBQU0sVUFBVSxpQkFBSSxJQUFKLEVBQVUsSUFBVixDQUFWLENBRGtCO0FBRXhCLFlBQUksT0FBSixFQUFhO0FBQ1QsZ0JBQUksUUFBUSxpQkFBWSxJQUFaLEVBQWtCLElBQWxCLENBQVIsQ0FESztBQUVULG9CQUFRLFFBQVEsQ0FBUixDQUZDO0FBR1QsNkJBQUksSUFBSixFQUFVLElBQVYsRUFBZ0IsS0FBaEIsRUFIUztTQUFiO0tBRm9CLENBQXhCLENBTm9DO0FBZXBDLHNCQUFLLHNCQUFMLEVBQTZCLGdCQUFJO0FBQzdCLFlBQU0sVUFBVSxpQkFBSSxJQUFKLEVBQVUsSUFBVixDQUFWLENBRHVCO0FBRTdCLFlBQUksT0FBSixFQUFhO0FBQ1QsZ0JBQU0sUUFBUSxpQkFBYyxJQUFkLEVBQW9CLElBQXBCLENBQVIsQ0FERztBQUVULGlCQUFLLElBQUksSUFBSSxDQUFKLEVBQU8sSUFBSSxNQUFNLE1BQU4sRUFBYyxHQUFsQyxFQUF1QztBQUNuQyxzQkFBTSxDQUFOLElBQVcsTUFBTSxDQUFOLElBQVcsQ0FBWCxDQUR3QjthQUF2QztBQUdBLDZCQUFJLElBQUosRUFBVSxJQUFWLEVBQWdCLEtBQWhCLEVBTFM7U0FBYjtLQUZ5QixDQUE3QixDQWZvQztBQTBCcEMsc0JBQUssb0JBQU8sSUFBUCxFQUFhO2VBQUsscUJBQVEsQ0FBUjtLQUFMLENBQWxCLEVBQW9DLFVBQUMsSUFBRDtlQUFpQixlQUFlLElBQWY7S0FBakIsQ0FBcEMsQ0ExQm9DO0FBNEJwQyxXQUFPLElBQVAsQ0E1Qm9DO0NBQXhDO0FBK0JBLFNBQUEsZUFBQSxDQUFnQyxJQUFoQyxFQUF5QztBQUNyQyxRQUFJLHFCQUFRLElBQVIsQ0FBSixFQUFtQjtBQUNmLDBCQUFLLElBQUwsRUFBVzttQkFBUSxnQkFBZ0IsSUFBaEI7U0FBUixDQUFYLENBRGU7QUFFZixlQUFPLElBQVAsQ0FGZTtLQUFuQjtBQUtBLHNCQUFLLGlCQUFMLEVBQXdCLGdCQUFJO0FBQ3hCLFlBQU0sVUFBVSxpQkFBSSxJQUFKLEVBQVUsSUFBVixDQUFWLENBRGtCO0FBRXhCLFlBQUksT0FBSixFQUFhO0FBQ1QsZ0JBQUksUUFBUSxpQkFBWSxJQUFaLEVBQWtCLElBQWxCLENBQVIsQ0FESztBQUVULG9CQUFRLFFBQVEsQ0FBUixDQUZDO0FBR1QsNkJBQUksSUFBSixFQUFVLElBQVYsRUFBZ0IsS0FBaEIsRUFIUztTQUFiO0tBRm9CLENBQXhCLENBTnFDO0FBZXJDLHNCQUFLLHNCQUFMLEVBQTZCLGdCQUFJO0FBQzdCLFlBQU0sVUFBVSxpQkFBSSxJQUFKLEVBQVUsSUFBVixDQUFWLENBRHVCO0FBRTdCLFlBQUksT0FBSixFQUFhO0FBQ1QsZ0JBQU0sUUFBUSxpQkFBYyxJQUFkLEVBQW9CLElBQXBCLENBQVIsQ0FERztBQUVULGlCQUFLLElBQUksSUFBSSxDQUFKLEVBQU8sSUFBSSxNQUFNLE1BQU4sRUFBYyxHQUFsQyxFQUF1QztBQUNuQyxzQkFBTSxDQUFOLElBQVcsTUFBTSxDQUFOLElBQVcsQ0FBWCxDQUR3QjthQUF2QztBQUdBLDZCQUFJLElBQUosRUFBVSxJQUFWLEVBQWdCLEtBQWhCLEVBTFM7U0FBYjtLQUZ5QixDQUE3QixDQWZxQztBQTBCckMsc0JBQUssb0JBQU8sSUFBUCxFQUFhO2VBQUsscUJBQVEsQ0FBUjtLQUFMLENBQWxCLEVBQW9DLFVBQUMsSUFBRDtlQUFpQixnQkFBZ0IsSUFBaEI7S0FBakIsQ0FBcEMsQ0ExQnFDO0FBNEJyQyxXQUFPLElBQVAsQ0E1QnFDO0NBQXpDIiwiZmlsZSI6ImxpYi9yZXNwb25zZS1oYW5kbGluZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aXNBcnJheSwgZWFjaCwgZmlsdGVyLCBoYXMsIGdldCwgc2V0fSBmcm9tIFwibG9kYXNoXCI7XG5cbmV4cG9ydCBjb25zdCBzZXJ2ZXJMaW5lTnVtYmVycyA9IFtcbiAgICBcIkxpbmVcIiwgXCJDb2x1bW5cIixcbiAgICBcIlN0YXJ0TGluZVwiLCBcIlN0YXJ0Q29sdW1uXCIsXG4gICAgXCJFbmRMaW5lXCIsIFwiRW5kQ29sdW1uXCIsXG4gICAgXCJTZWxlY3Rpb25TdGFydENvbHVtblwiLCBcIlNlbGVjdGlvblN0YXJ0TGluZVwiLFxuICAgIFwiU2VsZWN0aW9uRW5kQ29sdW1uXCIsIFwiU2VsZWN0aW9uRW5kTGluZVwiLFxuICAgIFwiU2VsZWN0aW9uLlN0YXJ0LkxpbmVcIiwgXCJTZWxlY3Rpb24uU3RhcnQuQ29sdW1uXCIsXG4gICAgXCJTZWxlY3Rpb24uRW5kLkxpbmVcIiwgXCJTZWxlY3Rpb24uRW5kLkNvbHVtblwiLFxuICAgIFwiTG9jYXRpb24uTGluZVwiLCBcIkxvY2F0aW9uLkNvbHVtblwiLFxuICAgIFwiTG9jYXRpb24uRW5kTGluZVwiLCBcIkxvY2F0aW9uLkVuZENvbHVtblwiLFxuXTtcblxuZXhwb3J0IGNvbnN0IHNlcnZlckxpbmVOdW1iZXJBcnJheXMgPSBbXG4gICAgXCJMaW5lc1wiXG5dO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVxdWVzdE11dGF0b3IoZGF0YTogYW55KSB7XG4gICAgaWYgKGlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgZWFjaChkYXRhLCBpdGVtID0+IHJlcXVlc3RNdXRhdG9yKGl0ZW0pKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgZWFjaChzZXJ2ZXJMaW5lTnVtYmVycywgcGF0aCA9PiB7XG4gICAgICAgIGNvbnN0IGhhc1BhdGggPSBoYXMoZGF0YSwgcGF0aCk7XG4gICAgICAgIGlmIChoYXNQYXRoKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBnZXQ8bnVtYmVyPihkYXRhLCBwYXRoKTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKyAxO1xuICAgICAgICAgICAgc2V0KGRhdGEsIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZWFjaChzZXJ2ZXJMaW5lTnVtYmVyQXJyYXlzLCBwYXRoID0+IHtcbiAgICAgICAgY29uc3QgaGFzUGF0aCA9IGhhcyhkYXRhLCBwYXRoKTtcbiAgICAgICAgaWYgKGhhc1BhdGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0PG51bWJlcltdPihkYXRhLCBwYXRoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YWx1ZVtpXSA9IHZhbHVlW2ldICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldChkYXRhLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGVhY2goZmlsdGVyKGRhdGEsIHogPT4gaXNBcnJheSh6KSksIChpdGVtOiBhbnlbXSkgPT4gcmVxdWVzdE11dGF0b3IoaXRlbSkpO1xuXG4gICAgcmV0dXJuIGRhdGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNwb25zZU11dGF0b3IoZGF0YTogYW55KSB7XG4gICAgaWYgKGlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgZWFjaChkYXRhLCBpdGVtID0+IHJlc3BvbnNlTXV0YXRvcihpdGVtKSk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGVhY2goc2VydmVyTGluZU51bWJlcnMsIHBhdGggPT4ge1xuICAgICAgICBjb25zdCBoYXNQYXRoID0gaGFzKGRhdGEsIHBhdGgpO1xuICAgICAgICBpZiAoaGFzUGF0aCkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gZ2V0PG51bWJlcj4oZGF0YSwgcGF0aCk7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlIC0gMTtcbiAgICAgICAgICAgIHNldChkYXRhLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGVhY2goc2VydmVyTGluZU51bWJlckFycmF5cywgcGF0aCA9PiB7XG4gICAgICAgIGNvbnN0IGhhc1BhdGggPSBoYXMoZGF0YSwgcGF0aCk7XG4gICAgICAgIGlmIChoYXNQYXRoKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdldDxudW1iZXJbXT4oZGF0YSwgcGF0aCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVbaV0gPSB2YWx1ZVtpXSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXQoZGF0YSwgcGF0aCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBlYWNoKGZpbHRlcihkYXRhLCB6ID0+IGlzQXJyYXkoeikpLCAoaXRlbTogYW55W10pID0+IHJlc3BvbnNlTXV0YXRvcihpdGVtKSk7XG5cbiAgICByZXR1cm4gZGF0YTtcbn1cbiIsImltcG9ydCB7IGlzQXJyYXksIGVhY2gsIGZpbHRlciwgaGFzLCBnZXQsIHNldCB9IGZyb20gXCJsb2Rhc2hcIjtcbmV4cG9ydCBjb25zdCBzZXJ2ZXJMaW5lTnVtYmVycyA9IFtcbiAgICBcIkxpbmVcIiwgXCJDb2x1bW5cIixcbiAgICBcIlN0YXJ0TGluZVwiLCBcIlN0YXJ0Q29sdW1uXCIsXG4gICAgXCJFbmRMaW5lXCIsIFwiRW5kQ29sdW1uXCIsXG4gICAgXCJTZWxlY3Rpb25TdGFydENvbHVtblwiLCBcIlNlbGVjdGlvblN0YXJ0TGluZVwiLFxuICAgIFwiU2VsZWN0aW9uRW5kQ29sdW1uXCIsIFwiU2VsZWN0aW9uRW5kTGluZVwiLFxuICAgIFwiU2VsZWN0aW9uLlN0YXJ0LkxpbmVcIiwgXCJTZWxlY3Rpb24uU3RhcnQuQ29sdW1uXCIsXG4gICAgXCJTZWxlY3Rpb24uRW5kLkxpbmVcIiwgXCJTZWxlY3Rpb24uRW5kLkNvbHVtblwiLFxuICAgIFwiTG9jYXRpb24uTGluZVwiLCBcIkxvY2F0aW9uLkNvbHVtblwiLFxuICAgIFwiTG9jYXRpb24uRW5kTGluZVwiLCBcIkxvY2F0aW9uLkVuZENvbHVtblwiLFxuXTtcbmV4cG9ydCBjb25zdCBzZXJ2ZXJMaW5lTnVtYmVyQXJyYXlzID0gW1xuICAgIFwiTGluZXNcIlxuXTtcbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0TXV0YXRvcihkYXRhKSB7XG4gICAgaWYgKGlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgZWFjaChkYXRhLCBpdGVtID0+IHJlcXVlc3RNdXRhdG9yKGl0ZW0pKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGVhY2goc2VydmVyTGluZU51bWJlcnMsIHBhdGggPT4ge1xuICAgICAgICBjb25zdCBoYXNQYXRoID0gaGFzKGRhdGEsIHBhdGgpO1xuICAgICAgICBpZiAoaGFzUGF0aCkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gZ2V0KGRhdGEsIHBhdGgpO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIDE7XG4gICAgICAgICAgICBzZXQoZGF0YSwgcGF0aCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZWFjaChzZXJ2ZXJMaW5lTnVtYmVyQXJyYXlzLCBwYXRoID0+IHtcbiAgICAgICAgY29uc3QgaGFzUGF0aCA9IGhhcyhkYXRhLCBwYXRoKTtcbiAgICAgICAgaWYgKGhhc1BhdGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0KGRhdGEsIHBhdGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhbHVlW2ldID0gdmFsdWVbaV0gKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0KGRhdGEsIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGVhY2goZmlsdGVyKGRhdGEsIHogPT4gaXNBcnJheSh6KSksIChpdGVtKSA9PiByZXF1ZXN0TXV0YXRvcihpdGVtKSk7XG4gICAgcmV0dXJuIGRhdGE7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzcG9uc2VNdXRhdG9yKGRhdGEpIHtcbiAgICBpZiAoaXNBcnJheShkYXRhKSkge1xuICAgICAgICBlYWNoKGRhdGEsIGl0ZW0gPT4gcmVzcG9uc2VNdXRhdG9yKGl0ZW0pKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGVhY2goc2VydmVyTGluZU51bWJlcnMsIHBhdGggPT4ge1xuICAgICAgICBjb25zdCBoYXNQYXRoID0gaGFzKGRhdGEsIHBhdGgpO1xuICAgICAgICBpZiAoaGFzUGF0aCkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gZ2V0KGRhdGEsIHBhdGgpO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAtIDE7XG4gICAgICAgICAgICBzZXQoZGF0YSwgcGF0aCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZWFjaChzZXJ2ZXJMaW5lTnVtYmVyQXJyYXlzLCBwYXRoID0+IHtcbiAgICAgICAgY29uc3QgaGFzUGF0aCA9IGhhcyhkYXRhLCBwYXRoKTtcbiAgICAgICAgaWYgKGhhc1BhdGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0KGRhdGEsIHBhdGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhbHVlW2ldID0gdmFsdWVbaV0gKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0KGRhdGEsIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGVhY2goZmlsdGVyKGRhdGEsIHogPT4gaXNBcnJheSh6KSksIChpdGVtKSA9PiByZXNwb25zZU11dGF0b3IoaXRlbSkpO1xuICAgIHJldHVybiBkYXRhO1xufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
