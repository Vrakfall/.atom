"use strict";
var lodash_1 = require('lodash');
var normalCommands = [
    'findimplementations', 'findsymbols', 'findusages',
    'gotodefinition', 'typelookup', 'navigateup',
    'navigatedown', 'getcodeactions', 'filesChanged',
    'runcodeaction', 'autocomplete', 'signatureHelp'
];
var priorityCommands = [
    'updatebuffer', 'changebuffer', 'formatAfterKeystroke'
];
var prioritySet = new Set();
var normalSet = new Set();
var deferredSet = new Set();
var undeferredSet = new Set();
lodash_1.each(normalCommands, function (x) {
    normalSet.add(x);
    undeferredSet.add(x);
});
lodash_1.each(priorityCommands, function (x) {
    prioritySet.add(x);
    undeferredSet.add(x);
});
function isPriorityCommand(request) {
    return prioritySet.has(request.command);
}
exports.isPriorityCommand = isPriorityCommand;
;
function isNormalCommand(request) {
    return !isDeferredCommand(request) && normalSet.has(request.command);
}
exports.isNormalCommand = isNormalCommand;
function isDeferredCommand(request) {
    if (request.silent && !isPriorityCommand(request)) {
        return true;
    }
    if (deferredSet.has(request.command)) {
        return true;
    }
    if (undeferredSet.has(request.command)) {
        return false;
    }
    deferredSet.add(request.command);
    return true;
}
exports.isDeferredCommand = isDeferredCommand;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9oZWxwZXJzL3ByaW9yaXRpemF0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSx1QkFBcUIsUUFBUSxDQUFDLENBQUE7QUFFOUIsSUFBTSxjQUFjLEdBQUc7SUFDbkIscUJBQXFCLEVBQUUsYUFBYSxFQUFFLFlBQVk7SUFDbEQsZ0JBQWdCLEVBQUUsWUFBWSxFQUFFLFlBQVk7SUFDNUMsY0FBYyxFQUFFLGdCQUFnQixFQUFFLGNBQWM7SUFDaEQsZUFBZSxFQUFFLGNBQWMsRUFBRSxlQUFlO0NBQ25ELENBQUM7QUFDRixJQUFNLGdCQUFnQixHQUFHO0lBQ3JCLGNBQWMsRUFBRSxjQUFjLEVBQUUsc0JBQXNCO0NBQ3pELENBQUM7QUFFRixJQUFNLFdBQVcsR0FBRyxJQUFJLEdBQUcsRUFBVSxDQUFDO0FBQ3RDLElBQU0sU0FBUyxHQUFHLElBQUksR0FBRyxFQUFVLENBQUM7QUFDcEMsSUFBTSxXQUFXLEdBQUcsSUFBSSxHQUFHLEVBQVUsQ0FBQztBQUN0QyxJQUFNLGFBQWEsR0FBRyxJQUFJLEdBQUcsRUFBVSxDQUFDO0FBRXhDLGFBQUksQ0FBQyxjQUFjLEVBQUUsVUFBQSxDQUFDO0lBQ2xCLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDakIsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN6QixDQUFDLENBQUMsQ0FBQztBQUVILGFBQUksQ0FBQyxnQkFBZ0IsRUFBRSxVQUFBLENBQUM7SUFDcEIsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuQixhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3pCLENBQUMsQ0FBQyxDQUFDO0FBRUgsMkJBQWtDLE9BQTRCO0lBQzFELE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM1QyxDQUFDO0FBRmUseUJBQWlCLG9CQUVoQyxDQUFBO0FBQUEsQ0FBQztBQUVGLHlCQUFnQyxPQUE0QjtJQUN4RCxNQUFNLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsSUFBSSxTQUFTLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUN6RSxDQUFDO0FBRmUsdUJBQWUsa0JBRTlCLENBQUE7QUFFRCwyQkFBa0MsT0FBNEI7SUFDMUQsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoRCxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxFQUFFLENBQUMsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkMsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsRUFBRSxDQUFDLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELFdBQVcsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2pDLE1BQU0sQ0FBQyxJQUFJLENBQUM7QUFDaEIsQ0FBQztBQWZlLHlCQUFpQixvQkFlaEMsQ0FBQSIsImZpbGUiOiJsaWIvaGVscGVycy9wcmlvcml0aXphdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlcXVlc3RDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dHMnO1xuaW1wb3J0IHsgZWFjaCB9IGZyb20gJ2xvZGFzaCc7XG5cbmNvbnN0IG5vcm1hbENvbW1hbmRzID0gW1xuICAgICdmaW5kaW1wbGVtZW50YXRpb25zJywgJ2ZpbmRzeW1ib2xzJywgJ2ZpbmR1c2FnZXMnLFxuICAgICdnb3RvZGVmaW5pdGlvbicsICd0eXBlbG9va3VwJywgJ25hdmlnYXRldXAnLFxuICAgICduYXZpZ2F0ZWRvd24nLCAnZ2V0Y29kZWFjdGlvbnMnLCAnZmlsZXNDaGFuZ2VkJyxcbiAgICAncnVuY29kZWFjdGlvbicsICdhdXRvY29tcGxldGUnLCAnc2lnbmF0dXJlSGVscCdcbl07XG5jb25zdCBwcmlvcml0eUNvbW1hbmRzID0gW1xuICAgICd1cGRhdGVidWZmZXInLCAnY2hhbmdlYnVmZmVyJywgJ2Zvcm1hdEFmdGVyS2V5c3Ryb2tlJ1xuXTtcblxuY29uc3QgcHJpb3JpdHlTZXQgPSBuZXcgU2V0PHN0cmluZz4oKTtcbmNvbnN0IG5vcm1hbFNldCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuY29uc3QgZGVmZXJyZWRTZXQgPSBuZXcgU2V0PHN0cmluZz4oKTtcbmNvbnN0IHVuZGVmZXJyZWRTZXQgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuZWFjaChub3JtYWxDb21tYW5kcywgeCA9PiB7XG4gICAgbm9ybWFsU2V0LmFkZCh4KTtcbiAgICB1bmRlZmVycmVkU2V0LmFkZCh4KTtcbn0pO1xuXG5lYWNoKHByaW9yaXR5Q29tbWFuZHMsIHggPT4ge1xuICAgIHByaW9yaXR5U2V0LmFkZCh4KTtcbiAgICB1bmRlZmVycmVkU2V0LmFkZCh4KTtcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNQcmlvcml0eUNvbW1hbmQocmVxdWVzdDogUmVxdWVzdENvbnRleHQ8YW55Pikge1xuICAgIHJldHVybiBwcmlvcml0eVNldC5oYXMocmVxdWVzdC5jb21tYW5kKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBpc05vcm1hbENvbW1hbmQocmVxdWVzdDogUmVxdWVzdENvbnRleHQ8YW55Pikge1xuICAgIHJldHVybiAhaXNEZWZlcnJlZENvbW1hbmQocmVxdWVzdCkgJiYgbm9ybWFsU2V0LmhhcyhyZXF1ZXN0LmNvbW1hbmQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEZWZlcnJlZENvbW1hbmQocmVxdWVzdDogUmVxdWVzdENvbnRleHQ8YW55Pikge1xuICAgIGlmIChyZXF1ZXN0LnNpbGVudCAmJiAhaXNQcmlvcml0eUNvbW1hbmQocmVxdWVzdCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGRlZmVycmVkU2V0LmhhcyhyZXF1ZXN0LmNvbW1hbmQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh1bmRlZmVycmVkU2V0LmhhcyhyZXF1ZXN0LmNvbW1hbmQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBkZWZlcnJlZFNldC5hZGQocmVxdWVzdC5jb21tYW5kKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
