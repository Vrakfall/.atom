"use strict";
var rxjs_1 = require('rxjs');
var ts_disposables_1 = require('ts-disposables');
var lodash_1 = require('lodash');
var enums_1 = require('../enums');
var contexts_1 = require('../contexts');
var options_1 = require('../options');
var prioritization_1 = require('../helpers/prioritization');
var create_1 = require('../operators/create');
var preconditions_1 = require('../helpers/preconditions');
var decorators_1 = require('../helpers/decorators');
function pausable(incomingStream, pauser) {
    return create_1.createObservable(function (observer) {
        var paused;
        var queue = [];
        var sub = new rxjs_1.Subscription();
        sub.add(pauser.subscribe(function (shouldRun) {
            paused = !shouldRun;
            if (shouldRun && queue.length) {
                lodash_1.each(queue, function (r) { return observer.next(r); });
                queue = [];
            }
        }));
        sub.add(incomingStream
            .subscribe(function (request) {
            if (paused) {
                queue.push(request);
            }
            else {
                observer.next(request);
            }
        }));
        return sub;
    });
}
var ReactiveClient = (function () {
    function ReactiveClient(_options) {
        var _this = this;
        this._requestStream = new rxjs_1.Subject();
        this._responseStream = new rxjs_1.Subject();
        this._responseStreams = new Map();
        this._errorStream = new rxjs_1.Subject();
        this._uniqueId = lodash_1.uniqueId('client');
        this._lowestIndexValue = 0;
        this._disposable = new ts_disposables_1.CompositeDisposable();
        this._eventsStream = new rxjs_1.Subject();
        this._events = this._eventsStream.asObservable();
        this._stateStream = new rxjs_1.BehaviorSubject(enums_1.DriverState.Disconnected);
        this._state = this._stateStream.asObservable();
        this._currentRequests = new Set();
        this._fixups = [];
        _options.driver = _options.driver || (function (options) {
            var item = require('../drivers/stdio');
            var driverFactory = item[lodash_1.keys(item)[0]];
            return new driverFactory(_this._options);
        });
        this._options = lodash_1.defaults(_options, {
            projectPath: '',
            onState: lodash_1.bind(this._stateStream.next, this._stateStream),
            onEvent: lodash_1.bind(this._eventsStream.next, this._eventsStream),
            onCommand: function (packet) {
                var response = new contexts_1.ResponseContext(new contexts_1.RequestContext(_this._uniqueId, packet.Command, {}, {}, 'command'), packet.Body);
                _this._getResponseStream(packet.Command).next(response);
            }
        });
        options_1.ensureClientOptions(_options);
        //this._pluginManager = new PluginManager(_options.plugins);
        this._resetDriver();
        /*this._disposable.add(this._pluginManager.changed.subscribe(() => {
            const driver = this._driver;
            if (isPluginDriver(driver)) {
                driver.updatePlugins(this._pluginManager.plugins);
            }
        }));*/
        this._disposable.add(this._requestStream.subscribe(function (x) { return _this._currentRequests.add(x); }));
        var getStatusValues = function () { return ({
            state: _this._driver.currentState,
            outgoingRequests: _this.outstandingRequests,
            hasOutgoingRequests: _this.outstandingRequests > 0
        }); };
        this.setupRequestStreams();
        var status = rxjs_1.Observable.merge(this._requestStream, this._responseStream);
        this._statusStream = status
            .delay(10)
            .map(getStatusValues)
            .distinctUntilChanged()
            .share();
        this._observe = new ReactiveClientEvents(this);
        if (this._options.debug) {
            this._disposable.add(this._responseStream.subscribe(function (context) {
                // log our complete response time
                _this._eventsStream.next({
                    Event: 'log',
                    Body: {
                        Message: "/" + context.command + "  " + context.responseTime + "ms (round trip)",
                        LogLevel: 'INFORMATION'
                    },
                    Seq: -1,
                    Type: 'log'
                });
            }));
        }
    }
    Object.defineProperty(ReactiveClient.prototype, "uniqueId", {
        //private _pluginManager: PluginManager;
        get: function () { return this._uniqueId; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ReactiveClient.prototype, "id", {
        get: function () { return this._driver.id; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ReactiveClient.prototype, "serverPath", {
        get: function () { return this._driver.serverPath; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ReactiveClient.prototype, "projectPath", {
        get: function () { return this._driver.projectPath; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ReactiveClient.prototype, "runtime", {
        get: function () { return this._driver.runtime; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ReactiveClient.prototype, "events", {
        get: function () { return this._events; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ReactiveClient.prototype, "currentState", {
        get: function () { return this._stateStream.getValue(); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ReactiveClient.prototype, "state", {
        get: function () { return this._state; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ReactiveClient.prototype, "outstandingRequests", {
        get: function () { return this._currentRequests.size; },
        enumerable: true,
        configurable: true
    });
    ReactiveClient.prototype.getCurrentRequests = function () {
        var response = [];
        this._currentRequests.forEach(function (request) {
            response.push({
                command: request.command,
                sequence: lodash_1.cloneDeep(request.sequence),
                request: request.request,
                silent: request.silent,
                duration: Date.now() - request.time.getTime()
            });
        });
        return response;
    };
    Object.defineProperty(ReactiveClient.prototype, "status", {
        get: function () { return this._statusStream; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ReactiveClient.prototype, "requests", {
        get: function () { return this._requestStream; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ReactiveClient.prototype, "responses", {
        get: function () { return this._responseStream; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ReactiveClient.prototype, "errors", {
        get: function () { return this._errorStream; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ReactiveClient.prototype, "observe", {
        get: function () { return this._observe; },
        enumerable: true,
        configurable: true
    });
    ReactiveClient.prototype.dispose = function () {
        if (this._disposable.isDisposed)
            return;
        this.disconnect();
        this._disposable.dispose();
    };
    ReactiveClient.prototype.setupRequestStreams = function () {
        var _this = this;
        var priorityRequests = new rxjs_1.BehaviorSubject(0), priorityResponses = new rxjs_1.BehaviorSubject(0);
        var pauser = rxjs_1.Observable.combineLatest(priorityRequests, priorityResponses, function (requests, responses) {
            if (requests > 0 && responses === requests) {
                priorityRequests.next(0);
                priorityResponses.next(0);
                return true;
            }
            else if (requests > 0) {
                return false;
            }
            return true;
        })
            .startWith(true)
            .debounceTime(120)
            .share();
        // Keep deferred concurrency at a min of two, this lets us get around long running requests jamming the pipes.
        var deferredConcurrency = Math.max(Math.floor(this._options.concurrency / 4), 2);
        // These are operations that should wait until after
        // we have executed all the current priority commands
        // We also defer silent commands to this queue, as they are generally for "background" work
        this._disposable.add(
        //deferredQueue
        pausable(this._requestStream.filter(prioritization_1.isDeferredCommand), pauser)
            .map(function (request) { return _this.handleResult(request); })
            .merge(deferredConcurrency)
            .subscribe(), 
        //normalQueue
        // We just pass these operations through as soon as possible
        pausable(this._requestStream.filter(prioritization_1.isNormalCommand), pauser)
            .map(function (request) { return _this.handleResult(request); })
            .merge(this._options.concurrency)
            .subscribe(), 
        //priorityQueue
        // We must wait for these commands
        this._requestStream
            .filter(prioritization_1.isPriorityCommand)
            .do(function () { return priorityRequests.next(priorityRequests.getValue() + 1); })
            .map(function (request) { return _this.handleResult(request, function () { return priorityResponses.next(priorityResponses.getValue() + 1); }); })
            .concat() // And these commands must run in order.
            .subscribe());
    };
    ReactiveClient.prototype.handleResult = function (context, complete) {
        var _this = this;
        // TODO: Find a way to not repeat the same commands, if there are outstanding (timed out) requests.
        // In some cases for example find usages has taken over 30 seconds, so we shouldn"t hit the server with multiple of these requests (as we slam the cpU)
        var result = this._driver.request(context.command, context.request);
        var responseStream = this._getResponseStream(context.command);
        result.subscribe(function (data) {
            responseStream.next(new contexts_1.ResponseContext(context, data));
        }, function (error) {
            _this._errorStream.next(new contexts_1.CommandContext(context.command, error));
            responseStream.next(new contexts_1.ResponseContext(context, null, true));
            _this._currentRequests.delete(context);
            if (complete) {
                complete();
            }
        }, function () {
            _this._currentRequests.delete(context);
            if (complete) {
                complete();
            }
        });
        return result
            .timeout(this._options.concurrencyTimeout, rxjs_1.Observable.empty());
    };
    ReactiveClient.prototype.log = function (message, logLevel) {
        // log our complete response time
        this._eventsStream.next({
            Event: 'log',
            Body: {
                Message: message,
                LogLevel: logLevel ? logLevel.toUpperCase() : 'INFORMATION'
            },
            Seq: -1,
            Type: 'log'
        });
    };
    ReactiveClient.prototype.connect = function () {
        // Currently connecting
        if (this.currentState >= enums_1.DriverState.Downloading && this.currentState <= enums_1.DriverState.Connected)
            return;
        // Bootstrap plugins here
        this._currentRequests.clear();
        this._driver.connect();
    };
    ReactiveClient.prototype._resetDriver = function () {
        if (this._driver) {
            this._disposable.remove(this._driver);
            this._driver.dispose();
        }
        var driver = this._options.driver;
        this._driver = driver(this._options);
        this._disposable.add(this._driver);
        return this._driver;
    };
    ReactiveClient.prototype.disconnect = function () {
        this._driver.disconnect();
    };
    ReactiveClient.prototype.request = function (action, request, options) {
        var _this = this;
        var conditions = preconditions_1.getPreconditions(action);
        if (conditions) {
            lodash_1.each(conditions, function (x) { return x(request); });
        }
        if (!options)
            options = {};
        // Handle disconnected requests
        if (this.currentState !== enums_1.DriverState.Connected && this.currentState !== enums_1.DriverState.Error) {
            var response_1 = new rxjs_1.AsyncSubject();
            this.state.filter(function (z) { return z === enums_1.DriverState.Connected; })
                .take(1)
                .subscribe(function (z) {
                _this.request(action, request, options).subscribe(function (x) { return response_1.next(x); });
            });
            return response_1;
        }
        var context = new contexts_1.RequestContext(this._uniqueId, action, request, options);
        this._requestStream.next(context);
        return context.getResponse(this._responseStream);
    };
    ReactiveClient.prototype.registerFixup = function (func) {
        this._fixups.push(func);
    };
    ReactiveClient.prototype._getResponseStream = function (key) {
        key = key.toLowerCase();
        if (!this._responseStreams.has(key)) {
            var subject = new rxjs_1.Subject();
            subject.subscribe({
                next: lodash_1.bind(this._responseStream.next, this._responseStream)
            });
            this._responseStreams.set(key, subject);
            return subject;
        }
        return this._responseStreams.get(key);
    };
    ReactiveClient.prototype._fixup = function (action, request, options) {
        lodash_1.each(this._fixups, function (f) { return f(action, request, options); });
    };
    return ReactiveClient;
}());
exports.ReactiveClient = ReactiveClient;
var ReactiveClientEvents = (function () {
    function ReactiveClientEvents(_client) {
        this._client = _client;
    }
    Object.defineProperty(ReactiveClientEvents.prototype, "uniqueId", {
        get: function () { return this._client.uniqueId; },
        enumerable: true,
        configurable: true
    });
    ReactiveClientEvents.prototype.listen = function (key) {
        var value = decorators_1.getInternalValue(this, key);
        if (!value) {
            return decorators_1.setEventOrResponse(this, key);
        }
        return value;
    };
    return ReactiveClientEvents;
}());
exports.ReactiveClientEvents = ReactiveClientEvents;
decorators_1.reference(ReactiveClientEvents.prototype, 'events', 'events');
decorators_1.reference(ReactiveClientEvents.prototype, 'commands', 'commands');
decorators_1.reference(ReactiveClientEvents.prototype, 'state', 'state');
decorators_1.reference(ReactiveClientEvents.prototype, 'status', 'status');
decorators_1.reference(ReactiveClientEvents.prototype, 'requests', 'requests');
decorators_1.reference(ReactiveClientEvents.prototype, 'responses', 'responses');
decorators_1.reference(ReactiveClientEvents.prototype, 'errors', 'errors');
// <#GENERATED />
decorators_1.request(ReactiveClient.prototype, "getteststartinfo");
decorators_1.request(ReactiveClient.prototype, "runtest");
decorators_1.request(ReactiveClient.prototype, "autocomplete");
decorators_1.request(ReactiveClient.prototype, "changebuffer");
decorators_1.request(ReactiveClient.prototype, "codecheck");
decorators_1.request(ReactiveClient.prototype, "codeformat");
decorators_1.request(ReactiveClient.prototype, "diagnostics");
decorators_1.request(ReactiveClient.prototype, "close");
decorators_1.request(ReactiveClient.prototype, "open");
decorators_1.request(ReactiveClient.prototype, "filesChanged");
decorators_1.request(ReactiveClient.prototype, "findimplementations");
decorators_1.request(ReactiveClient.prototype, "findsymbols");
decorators_1.request(ReactiveClient.prototype, "findusages");
decorators_1.request(ReactiveClient.prototype, "fixusings");
decorators_1.request(ReactiveClient.prototype, "formatAfterKeystroke");
decorators_1.request(ReactiveClient.prototype, "formatRange");
decorators_1.request(ReactiveClient.prototype, "getcodeactions");
decorators_1.request(ReactiveClient.prototype, "gotodefinition");
decorators_1.request(ReactiveClient.prototype, "gotofile");
decorators_1.request(ReactiveClient.prototype, "gotoregion");
decorators_1.request(ReactiveClient.prototype, "highlight");
decorators_1.request(ReactiveClient.prototype, "currentfilemembersasflat");
decorators_1.request(ReactiveClient.prototype, "currentfilemembersastree");
decorators_1.request(ReactiveClient.prototype, "metadata");
decorators_1.request(ReactiveClient.prototype, "navigatedown");
decorators_1.request(ReactiveClient.prototype, "navigateup");
decorators_1.request(ReactiveClient.prototype, "packagesearch");
decorators_1.request(ReactiveClient.prototype, "packagesource");
decorators_1.request(ReactiveClient.prototype, "packageversion");
decorators_1.request(ReactiveClient.prototype, "rename");
decorators_1.request(ReactiveClient.prototype, "runcodeaction");
decorators_1.request(ReactiveClient.prototype, "signatureHelp");
decorators_1.request(ReactiveClient.prototype, "gettestcontext");
decorators_1.request(ReactiveClient.prototype, "typelookup");
decorators_1.request(ReactiveClient.prototype, "updatebuffer");
decorators_1.request(ReactiveClient.prototype, "project");
decorators_1.request(ReactiveClient.prototype, "projects");
decorators_1.request(ReactiveClient.prototype, "checkalivestatus");
decorators_1.request(ReactiveClient.prototype, "checkreadystatus");
decorators_1.request(ReactiveClient.prototype, "stopserver");
decorators_1.response(ReactiveClientEvents.prototype, "getteststartinfo", "/v2/getteststartinfo");
decorators_1.response(ReactiveClientEvents.prototype, "runtest", "/v2/runtest");
decorators_1.response(ReactiveClientEvents.prototype, "autocomplete", "/autocomplete");
decorators_1.response(ReactiveClientEvents.prototype, "changebuffer", "/changebuffer");
decorators_1.response(ReactiveClientEvents.prototype, "codecheck", "/codecheck");
decorators_1.response(ReactiveClientEvents.prototype, "codeformat", "/codeformat");
decorators_1.response(ReactiveClientEvents.prototype, "diagnostics", "/diagnostics");
decorators_1.response(ReactiveClientEvents.prototype, "close", "/close");
decorators_1.response(ReactiveClientEvents.prototype, "open", "/open");
decorators_1.response(ReactiveClientEvents.prototype, "filesChanged", "/filesChanged");
decorators_1.response(ReactiveClientEvents.prototype, "findimplementations", "/findimplementations");
decorators_1.response(ReactiveClientEvents.prototype, "findsymbols", "/findsymbols");
decorators_1.response(ReactiveClientEvents.prototype, "findusages", "/findusages");
decorators_1.response(ReactiveClientEvents.prototype, "fixusings", "/fixusings");
decorators_1.response(ReactiveClientEvents.prototype, "formatAfterKeystroke", "/formatAfterKeystroke");
decorators_1.response(ReactiveClientEvents.prototype, "formatRange", "/formatRange");
decorators_1.response(ReactiveClientEvents.prototype, "getcodeactions", "/v2/getcodeactions");
decorators_1.response(ReactiveClientEvents.prototype, "gotodefinition", "/gotodefinition");
decorators_1.response(ReactiveClientEvents.prototype, "gotofile", "/gotofile");
decorators_1.response(ReactiveClientEvents.prototype, "gotoregion", "/gotoregion");
decorators_1.response(ReactiveClientEvents.prototype, "highlight", "/highlight");
decorators_1.response(ReactiveClientEvents.prototype, "currentfilemembersasflat", "/currentfilemembersasflat");
decorators_1.response(ReactiveClientEvents.prototype, "currentfilemembersastree", "/currentfilemembersastree");
decorators_1.response(ReactiveClientEvents.prototype, "metadata", "/metadata");
decorators_1.response(ReactiveClientEvents.prototype, "navigatedown", "/navigatedown");
decorators_1.response(ReactiveClientEvents.prototype, "navigateup", "/navigateup");
decorators_1.response(ReactiveClientEvents.prototype, "packagesearch", "/packagesearch");
decorators_1.response(ReactiveClientEvents.prototype, "packagesource", "/packagesource");
decorators_1.response(ReactiveClientEvents.prototype, "packageversion", "/packageversion");
decorators_1.response(ReactiveClientEvents.prototype, "rename", "/rename");
decorators_1.response(ReactiveClientEvents.prototype, "runcodeaction", "/v2/runcodeaction");
decorators_1.response(ReactiveClientEvents.prototype, "signatureHelp", "/signatureHelp");
decorators_1.response(ReactiveClientEvents.prototype, "gettestcontext", "/gettestcontext");
decorators_1.response(ReactiveClientEvents.prototype, "typelookup", "/typelookup");
decorators_1.response(ReactiveClientEvents.prototype, "updatebuffer", "/updatebuffer");
decorators_1.response(ReactiveClientEvents.prototype, "project", "/project");
decorators_1.response(ReactiveClientEvents.prototype, "projects", "/projects");
decorators_1.response(ReactiveClientEvents.prototype, "checkalivestatus", "/checkalivestatus");
decorators_1.response(ReactiveClientEvents.prototype, "checkreadystatus", "/checkreadystatus");
decorators_1.response(ReactiveClientEvents.prototype, "stopserver", "/stopserver");
decorators_1.event(ReactiveClientEvents.prototype, "projectAdded");
decorators_1.event(ReactiveClientEvents.prototype, "projectChanged");
decorators_1.event(ReactiveClientEvents.prototype, "projectRemoved");
decorators_1.event(ReactiveClientEvents.prototype, "error");
decorators_1.event(ReactiveClientEvents.prototype, "diagnostic");
decorators_1.event(ReactiveClientEvents.prototype, "msBuildProjectDiagnostics");
decorators_1.event(ReactiveClientEvents.prototype, "packageRestoreStarted");
decorators_1.event(ReactiveClientEvents.prototype, "packageRestoreFinished");
decorators_1.event(ReactiveClientEvents.prototype, "unresolvedDependencies");

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9yZWFjdGl2ZS9yZWFjdGl2ZS1jbGllbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLHFCQUFpRixNQUFNLENBQUMsQ0FBQTtBQUN4RiwrQkFBaUQsZ0JBQWdCLENBQUMsQ0FBQTtBQUNsRSx1QkFBZ0UsUUFBUSxDQUFDLENBQUE7QUFFekUsc0JBQXFDLFVBQVUsQ0FBQyxDQUFBO0FBQ2hELHlCQUFnRSxhQUFhLENBQUMsQ0FBQTtBQUM5RSx3QkFBb0MsWUFBWSxDQUFDLENBQUE7QUFDakQsK0JBQXNFLDJCQUEyQixDQUFDLENBQUE7QUFDbEcsdUJBQWlDLHFCQUFxQixDQUFDLENBQUE7QUFDdkQsOEJBQWlDLDBCQUEwQixDQUFDLENBQUE7QUFDNUQsMkJBQTBGLHVCQUF1QixDQUFDLENBQUE7QUFFbEgsa0JBQXFCLGNBQTZCLEVBQUUsTUFBMkI7SUFDM0UsTUFBTSxDQUFDLHlCQUFnQixDQUFJLFVBQUEsUUFBUTtRQUMvQixJQUFJLE1BQWUsQ0FBQztRQUNwQixJQUFJLEtBQUssR0FBVSxFQUFFLENBQUM7UUFDdEIsSUFBTSxHQUFHLEdBQUcsSUFBSSxtQkFBWSxFQUFFLENBQUM7UUFFL0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLFVBQUEsU0FBUztZQUM5QixNQUFNLEdBQUcsQ0FBQyxTQUFTLENBQUM7WUFFcEIsRUFBRSxDQUFDLENBQUMsU0FBUyxJQUFJLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUM1QixhQUFJLENBQUMsS0FBSyxFQUFFLFVBQUEsQ0FBQyxJQUFJLE9BQUEsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBaEIsQ0FBZ0IsQ0FBQyxDQUFDO2dCQUNuQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1lBQ2YsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFSixHQUFHLENBQUMsR0FBRyxDQUFDLGNBQWM7YUFDakIsU0FBUyxDQUFDLFVBQUEsT0FBTztZQUNkLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7Z0JBQ1QsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUN4QixDQUFDO1lBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ0osUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUMzQixDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUVSLE1BQU0sQ0FBQyxHQUFHLENBQUM7SUFDZixDQUFDLENBQUMsQ0FBQztBQUNQLENBQUM7QUFFRDtJQStESSx3QkFBWSxRQUErQjtRQS9EL0MsaUJBNlNDO1FBM1NXLG1CQUFjLEdBQUcsSUFBSSxjQUFPLEVBQXVCLENBQUM7UUFDcEQsb0JBQWUsR0FBRyxJQUFJLGNBQU8sRUFBNkIsQ0FBQztRQUMzRCxxQkFBZ0IsR0FBRyxJQUFJLEdBQUcsRUFBOEMsQ0FBQztRQUV6RSxpQkFBWSxHQUFHLElBQUksY0FBTyxFQUF1QixDQUFDO1FBQ2xELGNBQVMsR0FBRyxpQkFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzdCLHNCQUFpQixHQUFHLENBQUMsQ0FBQztRQUN4QixnQkFBVyxHQUFHLElBQUksb0NBQW1CLEVBQUUsQ0FBQztRQVV4QyxrQkFBYSxHQUFHLElBQUksY0FBTyxFQUF3QyxDQUFDO1FBQ3BFLFlBQU8sR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBSTVDLGlCQUFZLEdBQUcsSUFBSSxzQkFBZSxDQUFjLG1CQUFXLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDMUUsV0FBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxFQUFFLENBQUM7UUFLMUMscUJBQWdCLEdBQUcsSUFBSSxHQUFHLEVBQXVCLENBQUM7UUF5UGxELFlBQU8sR0FBc0YsRUFBRSxDQUFDO1FBdk5wRyxRQUFRLENBQUMsTUFBTSxHQUFHLFFBQVEsQ0FBQyxNQUFNLElBQUksQ0FBQyxVQUFDLE9BQXVCO1lBQzFELElBQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBQ3pDLElBQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxhQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQyxNQUFNLENBQUMsSUFBSSxhQUFhLENBQUMsS0FBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzVDLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLFFBQVEsR0FBUSxpQkFBUSxDQUFDLFFBQVEsRUFBa0I7WUFDcEQsV0FBVyxFQUFFLEVBQUU7WUFDZixPQUFPLEVBQUUsYUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDeEQsT0FBTyxFQUFFLGFBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDO1lBQzFELFNBQVMsRUFBRSxVQUFDLE1BQU07Z0JBQ2QsSUFBTSxRQUFRLEdBQUcsSUFBSSwwQkFBZSxDQUFDLElBQUkseUJBQWMsQ0FBQyxLQUFJLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLENBQUMsRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3pILEtBQUksQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzNELENBQUM7U0FDSixDQUFDLENBQUM7UUFFSCw2QkFBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUU5Qiw0REFBNEQ7UUFDNUQsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBRXBCOzs7OztjQUtNO1FBRU4sSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxLQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUE1QixDQUE0QixDQUFDLENBQUMsQ0FBQztRQUV2RixJQUFNLGVBQWUsR0FBRyxjQUFNLE9BQXVCLENBQUM7WUFDbEQsS0FBSyxFQUFFLEtBQUksQ0FBQyxPQUFPLENBQUMsWUFBWTtZQUNoQyxnQkFBZ0IsRUFBRSxLQUFJLENBQUMsbUJBQW1CO1lBQzFDLG1CQUFtQixFQUFFLEtBQUksQ0FBQyxtQkFBbUIsR0FBRyxDQUFDO1NBQ3BELENBQUMsRUFKNEIsQ0FJNUIsQ0FBQztRQUVILElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBRTNCLElBQU0sTUFBTSxHQUFHLGlCQUFVLENBQUMsS0FBSyxDQUNMLElBQUksQ0FBQyxjQUFjLEVBQ25CLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUVoRCxJQUFJLENBQUMsYUFBYSxHQUFHLE1BQU07YUFDdEIsS0FBSyxDQUFDLEVBQUUsQ0FBQzthQUNULEdBQUcsQ0FBQyxlQUFlLENBQUM7YUFDcEIsb0JBQW9CLEVBQUU7YUFDdEIsS0FBSyxFQUFFLENBQUM7UUFFYixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksb0JBQW9CLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFL0MsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ3RCLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLFVBQUEsT0FBTztnQkFDdkQsaUNBQWlDO2dCQUNqQyxLQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQztvQkFDcEIsS0FBSyxFQUFFLEtBQUs7b0JBQ1osSUFBSSxFQUFFO3dCQUNGLE9BQU8sRUFBRSxNQUFJLE9BQU8sQ0FBQyxPQUFPLFVBQUssT0FBTyxDQUFDLFlBQVksb0JBQWlCO3dCQUN0RSxRQUFRLEVBQUUsYUFBYTtxQkFDMUI7b0JBQ0QsR0FBRyxFQUFFLENBQUMsQ0FBQztvQkFDUCxJQUFJLEVBQUUsS0FBSztpQkFDZCxDQUFDLENBQUM7WUFDUCxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ1IsQ0FBQztJQUNMLENBQUM7SUFwSEQsc0JBQVcsb0NBQVE7UUFGbkIsd0NBQXdDO2FBRXhDLGNBQXdCLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQzs7O09BQUE7SUFFaEQsc0JBQVcsOEJBQUU7YUFBYixjQUFrQixNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDOzs7T0FBQTtJQUMzQyxzQkFBVyxzQ0FBVTthQUFyQixjQUEwQixNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDOzs7T0FBQTtJQUMzRCxzQkFBVyx1Q0FBVzthQUF0QixjQUEyQixNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDOzs7T0FBQTtJQUM3RCxzQkFBVyxtQ0FBTzthQUFsQixjQUFnQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDOzs7T0FBQTtJQUk5RCxzQkFBVyxrQ0FBTTthQUFqQixjQUF3RSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7OztPQUFBO0lBRTlGLHNCQUFXLHdDQUFZO2FBQXZCLGNBQTRCLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQzs7O09BQUE7SUFHbEUsc0JBQVcsaUNBQUs7YUFBaEIsY0FBOEMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDOzs7T0FBQTtJQUVuRSxzQkFBVywrQ0FBbUI7YUFBOUIsY0FBbUMsTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDOzs7T0FBQTtJQUdoRSwyQ0FBa0IsR0FBekI7UUFDSSxJQUFNLFFBQVEsR0FNUixFQUFFLENBQUM7UUFFVCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLFVBQUEsT0FBTztZQUNqQyxRQUFRLENBQUMsSUFBSSxDQUFDO2dCQUNWLE9BQU8sRUFBRSxPQUFPLENBQUMsT0FBTztnQkFDeEIsUUFBUSxFQUFFLGtCQUFTLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQztnQkFDckMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxPQUFPO2dCQUN4QixNQUFNLEVBQUUsT0FBTyxDQUFDLE1BQU07Z0JBQ3RCLFFBQVEsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7YUFDaEQsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFDLENBQUM7UUFFSCxNQUFNLENBQUMsUUFBUSxDQUFDO0lBQ3BCLENBQUM7SUFFRCxzQkFBVyxrQ0FBTTthQUFqQixjQUF5RCxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7OztPQUFBO0lBQ3JGLHNCQUFXLG9DQUFRO2FBQW5CLGNBQXlELE1BQU0sQ0FBdUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7OztPQUFBO0lBQzVILHNCQUFXLHFDQUFTO2FBQXBCLGNBQWdFLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQzs7O09BQUE7SUFDOUYsc0JBQVcsa0NBQU07YUFBakIsY0FBdUQsTUFBTSxDQUF1QyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQzs7O09BQUE7SUFHeEgsc0JBQVcsbUNBQU87YUFBbEIsY0FBNkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDOzs7T0FBQTtJQXVFN0QsZ0NBQU8sR0FBZDtRQUNJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDO1lBQUMsTUFBTSxDQUFDO1FBQ3hDLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNsQixJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFFTyw0Q0FBbUIsR0FBM0I7UUFBQSxpQkFtREM7UUFsREcsSUFBTSxnQkFBZ0IsR0FBRyxJQUFJLHNCQUFlLENBQUMsQ0FBQyxDQUFDLEVBQUUsaUJBQWlCLEdBQUcsSUFBSSxzQkFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTVGLElBQU0sTUFBTSxHQUFHLGlCQUFVLENBQUMsYUFBYSxDQUNWLGdCQUFnQixFQUNoQixpQkFBaUIsRUFDMUMsVUFBQyxRQUFRLEVBQUUsU0FBUztZQUNoQixFQUFFLENBQUMsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLFNBQVMsS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDO2dCQUN6QyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pCLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDMUIsTUFBTSxDQUFDLElBQUksQ0FBQztZQUNoQixDQUFDO1lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN0QixNQUFNLENBQUMsS0FBSyxDQUFDO1lBQ2pCLENBQUM7WUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUMsQ0FBQzthQUNELFNBQVMsQ0FBQyxJQUFJLENBQUM7YUFDZixZQUFZLENBQUMsR0FBRyxDQUFDO2FBQ2pCLEtBQUssRUFBRSxDQUFDO1FBRWIsOEdBQThHO1FBQzlHLElBQU0sbUJBQW1CLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRW5GLG9EQUFvRDtRQUNwRCxxREFBcUQ7UUFDckQsMkZBQTJGO1FBRTNGLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRztRQUNoQixlQUFlO1FBQ2YsUUFBUSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLGtDQUFpQixDQUFDLEVBQUUsTUFBTSxDQUFDO2FBQzFELEdBQUcsQ0FBQyxVQUFBLE9BQU8sSUFBSSxPQUFBLEtBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEVBQTFCLENBQTBCLENBQUM7YUFDMUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDO2FBQzFCLFNBQVMsRUFBRTtRQUVoQixhQUFhO1FBQ2IsNERBQTREO1FBQzVELFFBQVEsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxnQ0FBZSxDQUFDLEVBQUUsTUFBTSxDQUFDO2FBQ3hELEdBQUcsQ0FBQyxVQUFBLE9BQU8sSUFBSSxPQUFBLEtBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEVBQTFCLENBQTBCLENBQUM7YUFDMUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDO2FBQ2hDLFNBQVMsRUFBRTtRQUVoQixlQUFlO1FBQ2Ysa0NBQWtDO1FBQ2xDLElBQUksQ0FBQyxjQUFjO2FBQ2QsTUFBTSxDQUFDLGtDQUFpQixDQUFDO2FBQ3pCLEVBQUUsQ0FBQyxjQUFNLE9BQUEsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUF0RCxDQUFzRCxDQUFDO2FBQ2hFLEdBQUcsQ0FBQyxVQUFBLE9BQU8sSUFBSSxPQUFBLEtBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLGNBQU0sT0FBQSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQXhELENBQXdELENBQUMsRUFBMUYsQ0FBMEYsQ0FBQzthQUMxRyxNQUFNLEVBQUUsQ0FBQyx3Q0FBd0M7YUFDakQsU0FBUyxFQUFFLENBQ25CLENBQUM7SUFDTixDQUFDO0lBRU8scUNBQVksR0FBcEIsVUFBcUIsT0FBNEIsRUFBRSxRQUFxQjtRQUF4RSxpQkF5QkM7UUF4QkcsbUdBQW1HO1FBQ25HLHVKQUF1SjtRQUN2SixJQUFNLE1BQU0sR0FBMEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQVcsT0FBTyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdkgsSUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNoRSxNQUFNLENBQUMsU0FBUyxDQUFDLFVBQUMsSUFBSTtZQUNsQixjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksMEJBQWUsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUM1RCxDQUFDLEVBQUUsVUFBQyxLQUFLO1lBQ0wsS0FBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSx5QkFBYyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNuRSxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksMEJBQWUsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDOUQsS0FBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUN0QyxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO2dCQUNYLFFBQVEsRUFBRSxDQUFDO1lBQ2YsQ0FBQztRQUNMLENBQUMsRUFBRTtZQUNDLEtBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDdEMsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztnQkFDWCxRQUFRLEVBQUUsQ0FBQztZQUNmLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILE1BQU0sQ0FBQyxNQUFNO2FBR1IsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsa0JBQWtCLEVBQUUsaUJBQVUsQ0FBQyxLQUFLLEVBQTZCLENBQUMsQ0FBQztJQUNsRyxDQUFDO0lBRU0sNEJBQUcsR0FBVixVQUFXLE9BQWUsRUFBRSxRQUFpQjtRQUN6QyxpQ0FBaUM7UUFDakMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUM7WUFDcEIsS0FBSyxFQUFFLEtBQUs7WUFDWixJQUFJLEVBQUU7Z0JBQ0YsT0FBTyxFQUFFLE9BQU87Z0JBQ2hCLFFBQVEsRUFBRSxRQUFRLEdBQUcsUUFBUSxDQUFDLFdBQVcsRUFBRSxHQUFHLGFBQWE7YUFDOUQ7WUFDRCxHQUFHLEVBQUUsQ0FBQyxDQUFDO1lBQ1AsSUFBSSxFQUFFLEtBQUs7U0FDZCxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRU0sZ0NBQU8sR0FBZDtRQUNJLHVCQUF1QjtRQUN2QixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxJQUFJLG1CQUFXLENBQUMsV0FBVyxJQUFJLElBQUksQ0FBQyxZQUFZLElBQUksbUJBQVcsQ0FBQyxTQUFTLENBQUM7WUFBQyxNQUFNLENBQUM7UUFDdkcseUJBQXlCO1FBRXpCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUM5QixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNCLENBQUM7SUFFTyxxQ0FBWSxHQUFwQjtRQUNJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ2YsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3RDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDM0IsQ0FBQztRQUVNLGlDQUFNLENBQWtCO1FBQy9CLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNyQyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFFbkMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDeEIsQ0FBQztJQUVNLG1DQUFVLEdBQWpCO1FBQ0ksSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBRU0sZ0NBQU8sR0FBZCxVQUFvQyxNQUFjLEVBQUUsT0FBa0IsRUFBRSxPQUFrQztRQUExRyxpQkFzQkM7UUFyQkcsSUFBSSxVQUFVLEdBQUcsZ0NBQWdCLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDMUMsRUFBRSxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztZQUFDLGFBQUksQ0FBQyxVQUFVLEVBQUUsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQVYsQ0FBVSxDQUFDLENBQUM7UUFBQyxDQUFDO1FBRXRELEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO1lBQUMsT0FBTyxHQUE2QixFQUFFLENBQUM7UUFDckQsK0JBQStCO1FBQy9CLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLEtBQUssbUJBQVcsQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLFlBQVksS0FBSyxtQkFBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDekYsSUFBTSxVQUFRLEdBQUcsSUFBSSxtQkFBWSxFQUFhLENBQUM7WUFFL0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLEtBQUssbUJBQVcsQ0FBQyxTQUFTLEVBQTNCLENBQTJCLENBQUM7aUJBQzlDLElBQUksQ0FBQyxDQUFDLENBQUM7aUJBQ1AsU0FBUyxDQUFDLFVBQUEsQ0FBQztnQkFDUixLQUFJLENBQUMsT0FBTyxDQUFzQixNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLFVBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQWhCLENBQWdCLENBQUMsQ0FBQztZQUNqRyxDQUFDLENBQUMsQ0FBQztZQUVQLE1BQU0sQ0FBNkIsVUFBUSxDQUFDO1FBQ2hELENBQUM7UUFFRCxJQUFNLE9BQU8sR0FBRyxJQUFJLHlCQUFjLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUUsT0FBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQzlFLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRWxDLE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFrQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDdEYsQ0FBQztJQUdNLHNDQUFhLEdBQXBCLFVBQXFCLElBQWdGO1FBQ2pHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFTywyQ0FBa0IsR0FBMUIsVUFBMkIsR0FBVztRQUNsQyxHQUFHLEdBQUcsR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3hCLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEMsSUFBTSxPQUFPLEdBQUcsSUFBSSxjQUFPLEVBQTZCLENBQUM7WUFDekQsT0FBTyxDQUFDLFNBQVMsQ0FBQztnQkFDZCxJQUFJLEVBQUUsYUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUM7YUFDOUQsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDeEMsTUFBTSxDQUFDLE9BQU8sQ0FBQztRQUNuQixDQUFDO1FBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLENBQUM7SUFDM0MsQ0FBQztJQUVPLCtCQUFNLEdBQWQsVUFBeUIsTUFBYyxFQUFFLE9BQWlCLEVBQUUsT0FBa0M7UUFDMUYsYUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBM0IsQ0FBMkIsQ0FBQyxDQUFDO0lBQ3pELENBQUM7SUFDTCxxQkFBQztBQUFELENBN1NBLEFBNlNDLElBQUE7QUE3U1ksc0JBQWMsaUJBNlMxQixDQUFBO0FBSUQ7SUFDSSw4QkFBb0IsT0FBdUI7UUFBdkIsWUFBTyxHQUFQLE9BQU8sQ0FBZ0I7SUFBSSxDQUFDO0lBRWhELHNCQUFXLDBDQUFRO2FBQW5CLGNBQXdCLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7OztPQUFBO0lBRWhELHFDQUFNLEdBQWIsVUFBYyxHQUFXO1FBQ3JCLElBQU0sS0FBSyxHQUFHLDZCQUFnQixDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztRQUMxQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDVCxNQUFNLENBQUMsK0JBQWtCLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3pDLENBQUM7UUFDRCxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFDTCwyQkFBQztBQUFELENBWkEsQUFZQyxJQUFBO0FBWlksNEJBQW9CLHVCQVloQyxDQUFBO0FBWUQsc0JBQVMsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQzlELHNCQUFTLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztBQUNsRSxzQkFBUyxDQUFDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDNUQsc0JBQVMsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQzlELHNCQUFTLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztBQUNsRSxzQkFBUyxDQUFDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxXQUFXLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDcEUsc0JBQVMsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBRzlELGlCQUFpQjtBQUNqQixvQkFBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztBQUN0RCxvQkFBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDN0Msb0JBQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ2xELG9CQUFPLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUNsRCxvQkFBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDL0Msb0JBQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ2hELG9CQUFPLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxhQUFhLENBQUMsQ0FBQztBQUNqRCxvQkFBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDM0Msb0JBQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQzFDLG9CQUFPLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUNsRCxvQkFBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUscUJBQXFCLENBQUMsQ0FBQztBQUN6RCxvQkFBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsYUFBYSxDQUFDLENBQUM7QUFDakQsb0JBQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ2hELG9CQUFPLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxXQUFXLENBQUMsQ0FBQztBQUMvQyxvQkFBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsc0JBQXNCLENBQUMsQ0FBQztBQUMxRCxvQkFBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsYUFBYSxDQUFDLENBQUM7QUFDakQsb0JBQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLGdCQUFnQixDQUFDLENBQUM7QUFDcEQsb0JBQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLGdCQUFnQixDQUFDLENBQUM7QUFDcEQsb0JBQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQzlDLG9CQUFPLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsQ0FBQztBQUNoRCxvQkFBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDL0Msb0JBQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLDBCQUEwQixDQUFDLENBQUM7QUFDOUQsb0JBQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLDBCQUEwQixDQUFDLENBQUM7QUFDOUQsb0JBQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQzlDLG9CQUFPLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUNsRCxvQkFBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUM7QUFDaEQsb0JBQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBQ25ELG9CQUFPLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxlQUFlLENBQUMsQ0FBQztBQUNuRCxvQkFBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztBQUNwRCxvQkFBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDNUMsb0JBQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBQ25ELG9CQUFPLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxlQUFlLENBQUMsQ0FBQztBQUNuRCxvQkFBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztBQUNwRCxvQkFBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUM7QUFDaEQsb0JBQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ2xELG9CQUFPLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUM3QyxvQkFBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFDOUMsb0JBQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLGtCQUFrQixDQUFDLENBQUM7QUFDdEQsb0JBQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLGtCQUFrQixDQUFDLENBQUM7QUFDdEQsb0JBQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ2hELHFCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLGtCQUFrQixFQUFFLHNCQUFzQixDQUFDLENBQUM7QUFDckYscUJBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBQ25FLHFCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLGNBQWMsRUFBRSxlQUFlLENBQUMsQ0FBQztBQUMxRSxxQkFBUSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxjQUFjLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDMUUscUJBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsV0FBVyxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ3BFLHFCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLFlBQVksRUFBRSxhQUFhLENBQUMsQ0FBQztBQUN0RSxxQkFBUSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxhQUFhLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDeEUscUJBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQzVELHFCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUMxRCxxQkFBUSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxjQUFjLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDMUUscUJBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUscUJBQXFCLEVBQUUsc0JBQXNCLENBQUMsQ0FBQztBQUN4RixxQkFBUSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxhQUFhLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDeEUscUJBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsWUFBWSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBQ3RFLHFCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLFdBQVcsRUFBRSxZQUFZLENBQUMsQ0FBQztBQUNwRSxxQkFBUSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxzQkFBc0IsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO0FBQzFGLHFCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLGFBQWEsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUN4RSxxQkFBUSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDO0FBQ2pGLHFCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLGdCQUFnQixFQUFFLGlCQUFpQixDQUFDLENBQUM7QUFDOUUscUJBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsVUFBVSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQ2xFLHFCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLFlBQVksRUFBRSxhQUFhLENBQUMsQ0FBQztBQUN0RSxxQkFBUSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxXQUFXLEVBQUUsWUFBWSxDQUFDLENBQUM7QUFDcEUscUJBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsMEJBQTBCLEVBQUUsMkJBQTJCLENBQUMsQ0FBQztBQUNsRyxxQkFBUSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSwwQkFBMEIsRUFBRSwyQkFBMkIsQ0FBQyxDQUFDO0FBQ2xHLHFCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLFVBQVUsRUFBRSxXQUFXLENBQUMsQ0FBQztBQUNsRSxxQkFBUSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxjQUFjLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDMUUscUJBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsWUFBWSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBQ3RFLHFCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLGVBQWUsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0FBQzVFLHFCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLGVBQWUsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0FBQzVFLHFCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLGdCQUFnQixFQUFFLGlCQUFpQixDQUFDLENBQUM7QUFDOUUscUJBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQzlELHFCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLGVBQWUsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0FBQy9FLHFCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLGVBQWUsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0FBQzVFLHFCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLGdCQUFnQixFQUFFLGlCQUFpQixDQUFDLENBQUM7QUFDOUUscUJBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsWUFBWSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBQ3RFLHFCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLGNBQWMsRUFBRSxlQUFlLENBQUMsQ0FBQztBQUMxRSxxQkFBUSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFDaEUscUJBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsVUFBVSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQ2xFLHFCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLGtCQUFrQixFQUFFLG1CQUFtQixDQUFDLENBQUM7QUFDbEYscUJBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsa0JBQWtCLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztBQUNsRixxQkFBUSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxZQUFZLEVBQUUsYUFBYSxDQUFDLENBQUM7QUFDdEUsa0JBQUssQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDdEQsa0JBQUssQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztBQUN4RCxrQkFBSyxDQUFDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0FBQ3hELGtCQUFLLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQy9DLGtCQUFLLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ3BELGtCQUFLLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLDJCQUEyQixDQUFDLENBQUM7QUFDbkUsa0JBQUssQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztBQUMvRCxrQkFBSyxDQUFDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSx3QkFBd0IsQ0FBQyxDQUFDO0FBQ2hFLGtCQUFLLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLHdCQUF3QixDQUFDLENBQUMiLCJmaWxlIjoibGliL3JlYWN0aXZlL3JlYWN0aXZlLWNsaWVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIE9tbmlTaGFycCBmcm9tICcuLi9vbW5pc2hhcnAtc2VydmVyJztcbmltcG9ydCB7IE9ic2VydmFibGUsIFN1YmplY3QsIEFzeW5jU3ViamVjdCwgQmVoYXZpb3JTdWJqZWN0LCBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IElEaXNwb3NhYmxlLCBDb21wb3NpdGVEaXNwb3NhYmxlIH0gZnJvbSAndHMtZGlzcG9zYWJsZXMnO1xuaW1wb3J0IHsga2V5cywgYmluZCwgdW5pcXVlSWQsIGVhY2gsIGRlZmF1bHRzLCBjbG9uZURlZXAgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgSVJlYWN0aXZlRHJpdmVyLCBJRHJpdmVyT3B0aW9ucywgT21uaXNoYXJwQ2xpZW50U3RhdHVzLCBSZWFjdGl2ZUNsaWVudE9wdGlvbnMsIEludGVybmFsUmVhY3RpdmVDbGllbnRPcHRpb25zIH0gZnJvbSAnLi4vZW51bXMnO1xuaW1wb3J0IHsgRHJpdmVyU3RhdGUsIFJ1bnRpbWUgfSBmcm9tICcuLi9lbnVtcyc7XG5pbXBvcnQgeyBSZXF1ZXN0Q29udGV4dCwgUmVzcG9uc2VDb250ZXh0LCBDb21tYW5kQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHRzJztcbmltcG9ydCB7IGVuc3VyZUNsaWVudE9wdGlvbnMgfSBmcm9tICcuLi9vcHRpb25zJztcbmltcG9ydCB7IGlzUHJpb3JpdHlDb21tYW5kLCBpc05vcm1hbENvbW1hbmQsIGlzRGVmZXJyZWRDb21tYW5kIH0gZnJvbSAnLi4vaGVscGVycy9wcmlvcml0aXphdGlvbic7XG5pbXBvcnQgeyBjcmVhdGVPYnNlcnZhYmxlIH0gZnJvbSAnLi4vb3BlcmF0b3JzL2NyZWF0ZSc7XG5pbXBvcnQgeyBnZXRQcmVjb25kaXRpb25zIH0gZnJvbSAnLi4vaGVscGVycy9wcmVjb25kaXRpb25zJztcbmltcG9ydCB7IHJlZmVyZW5jZSwgc2V0RXZlbnRPclJlc3BvbnNlLCBnZXRJbnRlcm5hbFZhbHVlLCByZXF1ZXN0LCByZXNwb25zZSwgZXZlbnQgfSBmcm9tICcuLi9oZWxwZXJzL2RlY29yYXRvcnMnO1xuXG5mdW5jdGlvbiBwYXVzYWJsZTxUPihpbmNvbWluZ1N0cmVhbTogT2JzZXJ2YWJsZTxUPiwgcGF1c2VyOiBPYnNlcnZhYmxlPGJvb2xlYW4+KSB7XG4gICAgcmV0dXJuIGNyZWF0ZU9ic2VydmFibGU8VD4ob2JzZXJ2ZXIgPT4ge1xuICAgICAgICBsZXQgcGF1c2VkOiBib29sZWFuO1xuICAgICAgICBsZXQgcXVldWU6IGFueVtdID0gW107XG4gICAgICAgIGNvbnN0IHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcblxuICAgICAgICBzdWIuYWRkKHBhdXNlci5zdWJzY3JpYmUoc2hvdWxkUnVuID0+IHtcbiAgICAgICAgICAgIHBhdXNlZCA9ICFzaG91bGRSdW47XG5cbiAgICAgICAgICAgIGlmIChzaG91bGRSdW4gJiYgcXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZWFjaChxdWV1ZSwgciA9PiBvYnNlcnZlci5uZXh0KHIpKTtcbiAgICAgICAgICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgc3ViLmFkZChpbmNvbWluZ1N0cmVhbVxuICAgICAgICAgICAgLnN1YnNjcmliZShyZXF1ZXN0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2gocmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChyZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIHN1YjtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGNsYXNzIFJlYWN0aXZlQ2xpZW50IGltcGxlbWVudHMgSVJlYWN0aXZlRHJpdmVyLCBJRGlzcG9zYWJsZSB7XG4gICAgcHJpdmF0ZSBfZHJpdmVyOiBJUmVhY3RpdmVEcml2ZXI7XG4gICAgcHJpdmF0ZSBfcmVxdWVzdFN0cmVhbSA9IG5ldyBTdWJqZWN0PFJlcXVlc3RDb250ZXh0PGFueT4+KCk7XG4gICAgcHJpdmF0ZSBfcmVzcG9uc2VTdHJlYW0gPSBuZXcgU3ViamVjdDxSZXNwb25zZUNvbnRleHQ8YW55LCBhbnk+PigpO1xuICAgIHByaXZhdGUgX3Jlc3BvbnNlU3RyZWFtcyA9IG5ldyBNYXA8c3RyaW5nLCBTdWJqZWN0PFJlc3BvbnNlQ29udGV4dDxhbnksIGFueT4+PigpO1xuICAgIHByaXZhdGUgX3N0YXR1c1N0cmVhbTogT2JzZXJ2YWJsZTxPbW5pc2hhcnBDbGllbnRTdGF0dXM+O1xuICAgIHByaXZhdGUgX2Vycm9yU3RyZWFtID0gbmV3IFN1YmplY3Q8Q29tbWFuZENvbnRleHQ8YW55Pj4oKTtcbiAgICBwcml2YXRlIF91bmlxdWVJZCA9IHVuaXF1ZUlkKCdjbGllbnQnKTtcbiAgICBwcm90ZWN0ZWQgX2xvd2VzdEluZGV4VmFsdWUgPSAwO1xuICAgIHByaXZhdGUgX2Rpc3Bvc2FibGUgPSBuZXcgQ29tcG9zaXRlRGlzcG9zYWJsZSgpO1xuICAgIC8vcHJpdmF0ZSBfcGx1Z2luTWFuYWdlcjogUGx1Z2luTWFuYWdlcjtcblxuICAgIHB1YmxpYyBnZXQgdW5pcXVlSWQoKSB7IHJldHVybiB0aGlzLl91bmlxdWVJZDsgfVxuXG4gICAgcHVibGljIGdldCBpZCgpIHsgcmV0dXJuIHRoaXMuX2RyaXZlci5pZDsgfVxuICAgIHB1YmxpYyBnZXQgc2VydmVyUGF0aCgpIHsgcmV0dXJuIHRoaXMuX2RyaXZlci5zZXJ2ZXJQYXRoOyB9XG4gICAgcHVibGljIGdldCBwcm9qZWN0UGF0aCgpIHsgcmV0dXJuIHRoaXMuX2RyaXZlci5wcm9qZWN0UGF0aDsgfVxuICAgIHB1YmxpYyBnZXQgcnVudGltZSgpOiBSdW50aW1lIHsgcmV0dXJuIHRoaXMuX2RyaXZlci5ydW50aW1lOyB9XG5cbiAgICBwcml2YXRlIF9ldmVudHNTdHJlYW0gPSBuZXcgU3ViamVjdDxPbW5pU2hhcnAuU3RkaW8uUHJvdG9jb2wuRXZlbnRQYWNrZXQ+KCk7XG4gICAgcHJpdmF0ZSBfZXZlbnRzID0gdGhpcy5fZXZlbnRzU3RyZWFtLmFzT2JzZXJ2YWJsZSgpO1xuICAgIHB1YmxpYyBnZXQgZXZlbnRzKCk6IE9ic2VydmFibGU8T21uaVNoYXJwLlN0ZGlvLlByb3RvY29sLkV2ZW50UGFja2V0PiB7IHJldHVybiB0aGlzLl9ldmVudHM7IH1cblxuICAgIHB1YmxpYyBnZXQgY3VycmVudFN0YXRlKCkgeyByZXR1cm4gdGhpcy5fc3RhdGVTdHJlYW0uZ2V0VmFsdWUoKTsgfVxuICAgIHByaXZhdGUgX3N0YXRlU3RyZWFtID0gbmV3IEJlaGF2aW9yU3ViamVjdDxEcml2ZXJTdGF0ZT4oRHJpdmVyU3RhdGUuRGlzY29ubmVjdGVkKTtcbiAgICBwcml2YXRlIF9zdGF0ZSA9IHRoaXMuX3N0YXRlU3RyZWFtLmFzT2JzZXJ2YWJsZSgpO1xuICAgIHB1YmxpYyBnZXQgc3RhdGUoKTogT2JzZXJ2YWJsZTxEcml2ZXJTdGF0ZT4geyByZXR1cm4gdGhpcy5fc3RhdGU7IH1cblxuICAgIHB1YmxpYyBnZXQgb3V0c3RhbmRpbmdSZXF1ZXN0cygpIHsgcmV0dXJuIHRoaXMuX2N1cnJlbnRSZXF1ZXN0cy5zaXplOyB9XG5cbiAgICBwcml2YXRlIF9jdXJyZW50UmVxdWVzdHMgPSBuZXcgU2V0PFJlcXVlc3RDb250ZXh0PGFueT4+KCk7XG4gICAgcHVibGljIGdldEN1cnJlbnRSZXF1ZXN0cygpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgIGNvbW1hbmQ6IHN0cmluZztcbiAgICAgICAgICAgIHNlcXVlbmNlOiBzdHJpbmc7XG4gICAgICAgICAgICBzaWxlbnQ6IGJvb2xlYW47XG4gICAgICAgICAgICByZXF1ZXN0OiBhbnk7XG4gICAgICAgICAgICBkdXJhdGlvbjogbnVtYmVyO1xuICAgICAgICB9W10gPSBbXTtcblxuICAgICAgICB0aGlzLl9jdXJyZW50UmVxdWVzdHMuZm9yRWFjaChyZXF1ZXN0ID0+IHtcbiAgICAgICAgICAgIHJlc3BvbnNlLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvbW1hbmQ6IHJlcXVlc3QuY29tbWFuZCxcbiAgICAgICAgICAgICAgICBzZXF1ZW5jZTogY2xvbmVEZWVwKHJlcXVlc3Quc2VxdWVuY2UpLFxuICAgICAgICAgICAgICAgIHJlcXVlc3Q6IHJlcXVlc3QucmVxdWVzdCxcbiAgICAgICAgICAgICAgICBzaWxlbnQ6IHJlcXVlc3Quc2lsZW50LFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBEYXRlLm5vdygpIC0gcmVxdWVzdC50aW1lLmdldFRpbWUoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHN0YXR1cygpOiBPYnNlcnZhYmxlPE9tbmlzaGFycENsaWVudFN0YXR1cz4geyByZXR1cm4gdGhpcy5fc3RhdHVzU3RyZWFtOyB9XG4gICAgcHVibGljIGdldCByZXF1ZXN0cygpOiBPYnNlcnZhYmxlPFJlcXVlc3RDb250ZXh0PGFueT4+IHsgcmV0dXJuIDxPYnNlcnZhYmxlPFJlcXVlc3RDb250ZXh0PGFueT4+Pjxhbnk+dGhpcy5fcmVxdWVzdFN0cmVhbTsgfVxuICAgIHB1YmxpYyBnZXQgcmVzcG9uc2VzKCk6IE9ic2VydmFibGU8UmVzcG9uc2VDb250ZXh0PGFueSwgYW55Pj4geyByZXR1cm4gdGhpcy5fcmVzcG9uc2VTdHJlYW07IH1cbiAgICBwdWJsaWMgZ2V0IGVycm9ycygpOiBPYnNlcnZhYmxlPENvbW1hbmRDb250ZXh0PGFueT4+IHsgcmV0dXJuIDxPYnNlcnZhYmxlPENvbW1hbmRDb250ZXh0PGFueT4+Pjxhbnk+dGhpcy5fZXJyb3JTdHJlYW07IH1cblxuICAgIHByaXZhdGUgX29ic2VydmU6IFJlYWN0aXZlQ2xpZW50RXZlbnRzO1xuICAgIHB1YmxpYyBnZXQgb2JzZXJ2ZSgpOiBSZWFjdGl2ZUNsaWVudEV2ZW50cyB7IHJldHVybiB0aGlzLl9vYnNlcnZlOyB9XG5cbiAgICBwcml2YXRlIF9vcHRpb25zOiBJbnRlcm5hbFJlYWN0aXZlQ2xpZW50T3B0aW9ucyAmIElEcml2ZXJPcHRpb25zO1xuXG4gICAgY29uc3RydWN0b3IoX29wdGlvbnM6IFJlYWN0aXZlQ2xpZW50T3B0aW9ucykge1xuICAgICAgICBfb3B0aW9ucy5kcml2ZXIgPSBfb3B0aW9ucy5kcml2ZXIgfHwgKChvcHRpb25zOiBJRHJpdmVyT3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHJlcXVpcmUoJy4uL2RyaXZlcnMvc3RkaW8nKTtcbiAgICAgICAgICAgIGNvbnN0IGRyaXZlckZhY3RvcnkgPSBpdGVtW2tleXMoaXRlbSlbMF1dO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBkcml2ZXJGYWN0b3J5KHRoaXMuX29wdGlvbnMpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9vcHRpb25zID0gPGFueT5kZWZhdWx0cyhfb3B0aW9ucywgPElEcml2ZXJPcHRpb25zPntcbiAgICAgICAgICAgIHByb2plY3RQYXRoOiAnJyxcbiAgICAgICAgICAgIG9uU3RhdGU6IGJpbmQodGhpcy5fc3RhdGVTdHJlYW0ubmV4dCwgdGhpcy5fc3RhdGVTdHJlYW0pLFxuICAgICAgICAgICAgb25FdmVudDogYmluZCh0aGlzLl9ldmVudHNTdHJlYW0ubmV4dCwgdGhpcy5fZXZlbnRzU3RyZWFtKSxcbiAgICAgICAgICAgIG9uQ29tbWFuZDogKHBhY2tldCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlQ29udGV4dChuZXcgUmVxdWVzdENvbnRleHQodGhpcy5fdW5pcXVlSWQsIHBhY2tldC5Db21tYW5kLCB7fSwge30sICdjb21tYW5kJyksIHBhY2tldC5Cb2R5KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRSZXNwb25zZVN0cmVhbShwYWNrZXQuQ29tbWFuZCkubmV4dChyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVuc3VyZUNsaWVudE9wdGlvbnMoX29wdGlvbnMpO1xuXG4gICAgICAgIC8vdGhpcy5fcGx1Z2luTWFuYWdlciA9IG5ldyBQbHVnaW5NYW5hZ2VyKF9vcHRpb25zLnBsdWdpbnMpO1xuICAgICAgICB0aGlzLl9yZXNldERyaXZlcigpO1xuXG4gICAgICAgIC8qdGhpcy5fZGlzcG9zYWJsZS5hZGQodGhpcy5fcGx1Z2luTWFuYWdlci5jaGFuZ2VkLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkcml2ZXIgPSB0aGlzLl9kcml2ZXI7XG4gICAgICAgICAgICBpZiAoaXNQbHVnaW5Ecml2ZXIoZHJpdmVyKSkge1xuICAgICAgICAgICAgICAgIGRyaXZlci51cGRhdGVQbHVnaW5zKHRoaXMuX3BsdWdpbk1hbmFnZXIucGx1Z2lucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTsqL1xuXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2FibGUuYWRkKHRoaXMuX3JlcXVlc3RTdHJlYW0uc3Vic2NyaWJlKHggPT4gdGhpcy5fY3VycmVudFJlcXVlc3RzLmFkZCh4KSkpO1xuXG4gICAgICAgIGNvbnN0IGdldFN0YXR1c1ZhbHVlcyA9ICgpID0+IDxPbW5pc2hhcnBDbGllbnRTdGF0dXM+KHtcbiAgICAgICAgICAgIHN0YXRlOiB0aGlzLl9kcml2ZXIuY3VycmVudFN0YXRlLFxuICAgICAgICAgICAgb3V0Z29pbmdSZXF1ZXN0czogdGhpcy5vdXRzdGFuZGluZ1JlcXVlc3RzLFxuICAgICAgICAgICAgaGFzT3V0Z29pbmdSZXF1ZXN0czogdGhpcy5vdXRzdGFuZGluZ1JlcXVlc3RzID4gMFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnNldHVwUmVxdWVzdFN0cmVhbXMoKTtcblxuICAgICAgICBjb25zdCBzdGF0dXMgPSBPYnNlcnZhYmxlLm1lcmdlKFxuICAgICAgICAgICAgPE9ic2VydmFibGU8YW55Pj48YW55PnRoaXMuX3JlcXVlc3RTdHJlYW0sXG4gICAgICAgICAgICA8T2JzZXJ2YWJsZTxhbnk+Pjxhbnk+dGhpcy5fcmVzcG9uc2VTdHJlYW0pO1xuXG4gICAgICAgIHRoaXMuX3N0YXR1c1N0cmVhbSA9IHN0YXR1c1xuICAgICAgICAgICAgLmRlbGF5KDEwKVxuICAgICAgICAgICAgLm1hcChnZXRTdGF0dXNWYWx1ZXMpXG4gICAgICAgICAgICAuZGlzdGluY3RVbnRpbENoYW5nZWQoKVxuICAgICAgICAgICAgLnNoYXJlKCk7XG5cbiAgICAgICAgdGhpcy5fb2JzZXJ2ZSA9IG5ldyBSZWFjdGl2ZUNsaWVudEV2ZW50cyh0aGlzKTtcblxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5kZWJ1Zykge1xuICAgICAgICAgICAgdGhpcy5fZGlzcG9zYWJsZS5hZGQodGhpcy5fcmVzcG9uc2VTdHJlYW0uc3Vic2NyaWJlKGNvbnRleHQgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGxvZyBvdXIgY29tcGxldGUgcmVzcG9uc2UgdGltZVxuICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1N0cmVhbS5uZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgRXZlbnQ6ICdsb2cnLFxuICAgICAgICAgICAgICAgICAgICBCb2R5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNZXNzYWdlOiBgLyR7Y29udGV4dC5jb21tYW5kfSAgJHtjb250ZXh0LnJlc3BvbnNlVGltZX1tcyAocm91bmQgdHJpcClgLFxuICAgICAgICAgICAgICAgICAgICAgICAgTG9nTGV2ZWw6ICdJTkZPUk1BVElPTidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgU2VxOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgVHlwZTogJ2xvZydcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5fZGlzcG9zYWJsZS5pc0Rpc3Bvc2VkKSByZXR1cm47XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLl9kaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldHVwUmVxdWVzdFN0cmVhbXMoKSB7XG4gICAgICAgIGNvbnN0IHByaW9yaXR5UmVxdWVzdHMgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KDApLCBwcmlvcml0eVJlc3BvbnNlcyA9IG5ldyBCZWhhdmlvclN1YmplY3QoMCk7XG5cbiAgICAgICAgY29uc3QgcGF1c2VyID0gT2JzZXJ2YWJsZS5jb21iaW5lTGF0ZXN0KFxuICAgICAgICAgICAgPE9ic2VydmFibGU8bnVtYmVyPj48YW55PnByaW9yaXR5UmVxdWVzdHMsXG4gICAgICAgICAgICA8T2JzZXJ2YWJsZTxudW1iZXI+Pjxhbnk+cHJpb3JpdHlSZXNwb25zZXMsXG4gICAgICAgICAgICAocmVxdWVzdHMsIHJlc3BvbnNlcykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0cyA+IDAgJiYgcmVzcG9uc2VzID09PSByZXF1ZXN0cykge1xuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eVJlcXVlc3RzLm5leHQoMCk7XG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5UmVzcG9uc2VzLm5leHQoMCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVxdWVzdHMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhcnRXaXRoKHRydWUpXG4gICAgICAgICAgICAuZGVib3VuY2VUaW1lKDEyMClcbiAgICAgICAgICAgIC5zaGFyZSgpO1xuXG4gICAgICAgIC8vIEtlZXAgZGVmZXJyZWQgY29uY3VycmVuY3kgYXQgYSBtaW4gb2YgdHdvLCB0aGlzIGxldHMgdXMgZ2V0IGFyb3VuZCBsb25nIHJ1bm5pbmcgcmVxdWVzdHMgamFtbWluZyB0aGUgcGlwZXMuXG4gICAgICAgIGNvbnN0IGRlZmVycmVkQ29uY3VycmVuY3kgPSBNYXRoLm1heChNYXRoLmZsb29yKHRoaXMuX29wdGlvbnMuY29uY3VycmVuY3kgLyA0KSwgMik7XG5cbiAgICAgICAgLy8gVGhlc2UgYXJlIG9wZXJhdGlvbnMgdGhhdCBzaG91bGQgd2FpdCB1bnRpbCBhZnRlclxuICAgICAgICAvLyB3ZSBoYXZlIGV4ZWN1dGVkIGFsbCB0aGUgY3VycmVudCBwcmlvcml0eSBjb21tYW5kc1xuICAgICAgICAvLyBXZSBhbHNvIGRlZmVyIHNpbGVudCBjb21tYW5kcyB0byB0aGlzIHF1ZXVlLCBhcyB0aGV5IGFyZSBnZW5lcmFsbHkgZm9yIFwiYmFja2dyb3VuZFwiIHdvcmtcblxuICAgICAgICB0aGlzLl9kaXNwb3NhYmxlLmFkZChcbiAgICAgICAgICAgIC8vZGVmZXJyZWRRdWV1ZVxuICAgICAgICAgICAgcGF1c2FibGUodGhpcy5fcmVxdWVzdFN0cmVhbS5maWx0ZXIoaXNEZWZlcnJlZENvbW1hbmQpLCBwYXVzZXIpXG4gICAgICAgICAgICAgICAgLm1hcChyZXF1ZXN0ID0+IHRoaXMuaGFuZGxlUmVzdWx0KHJlcXVlc3QpKVxuICAgICAgICAgICAgICAgIC5tZXJnZShkZWZlcnJlZENvbmN1cnJlbmN5KVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKSxcblxuICAgICAgICAgICAgLy9ub3JtYWxRdWV1ZVxuICAgICAgICAgICAgLy8gV2UganVzdCBwYXNzIHRoZXNlIG9wZXJhdGlvbnMgdGhyb3VnaCBhcyBzb29uIGFzIHBvc3NpYmxlXG4gICAgICAgICAgICBwYXVzYWJsZSh0aGlzLl9yZXF1ZXN0U3RyZWFtLmZpbHRlcihpc05vcm1hbENvbW1hbmQpLCBwYXVzZXIpXG4gICAgICAgICAgICAgICAgLm1hcChyZXF1ZXN0ID0+IHRoaXMuaGFuZGxlUmVzdWx0KHJlcXVlc3QpKVxuICAgICAgICAgICAgICAgIC5tZXJnZSh0aGlzLl9vcHRpb25zLmNvbmN1cnJlbmN5KVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKSxcblxuICAgICAgICAgICAgLy9wcmlvcml0eVF1ZXVlXG4gICAgICAgICAgICAvLyBXZSBtdXN0IHdhaXQgZm9yIHRoZXNlIGNvbW1hbmRzXG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0U3RyZWFtXG4gICAgICAgICAgICAgICAgLmZpbHRlcihpc1ByaW9yaXR5Q29tbWFuZClcbiAgICAgICAgICAgICAgICAuZG8oKCkgPT4gcHJpb3JpdHlSZXF1ZXN0cy5uZXh0KHByaW9yaXR5UmVxdWVzdHMuZ2V0VmFsdWUoKSArIDEpKVxuICAgICAgICAgICAgICAgIC5tYXAocmVxdWVzdCA9PiB0aGlzLmhhbmRsZVJlc3VsdChyZXF1ZXN0LCAoKSA9PiBwcmlvcml0eVJlc3BvbnNlcy5uZXh0KHByaW9yaXR5UmVzcG9uc2VzLmdldFZhbHVlKCkgKyAxKSkpXG4gICAgICAgICAgICAgICAgLmNvbmNhdCgpIC8vIEFuZCB0aGVzZSBjb21tYW5kcyBtdXN0IHJ1biBpbiBvcmRlci5cbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZVJlc3VsdChjb250ZXh0OiBSZXF1ZXN0Q29udGV4dDxhbnk+LCBjb21wbGV0ZT86ICgpID0+IHZvaWQpOiBPYnNlcnZhYmxlPFJlc3BvbnNlQ29udGV4dDxhbnksIGFueT4+IHtcbiAgICAgICAgLy8gVE9ETzogRmluZCBhIHdheSB0byBub3QgcmVwZWF0IHRoZSBzYW1lIGNvbW1hbmRzLCBpZiB0aGVyZSBhcmUgb3V0c3RhbmRpbmcgKHRpbWVkIG91dCkgcmVxdWVzdHMuXG4gICAgICAgIC8vIEluIHNvbWUgY2FzZXMgZm9yIGV4YW1wbGUgZmluZCB1c2FnZXMgaGFzIHRha2VuIG92ZXIgMzAgc2Vjb25kcywgc28gd2Ugc2hvdWxkblwidCBoaXQgdGhlIHNlcnZlciB3aXRoIG11bHRpcGxlIG9mIHRoZXNlIHJlcXVlc3RzIChhcyB3ZSBzbGFtIHRoZSBjcFUpXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IDxPYnNlcnZhYmxlPFJlc3BvbnNlQ29udGV4dDxhbnksIGFueT4+PnRoaXMuX2RyaXZlci5yZXF1ZXN0PGFueSwgYW55Pihjb250ZXh0LmNvbW1hbmQsIGNvbnRleHQucmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlU3RyZWFtID0gdGhpcy5fZ2V0UmVzcG9uc2VTdHJlYW0oY29udGV4dC5jb21tYW5kKTtcbiAgICAgICAgcmVzdWx0LnN1YnNjcmliZSgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmVzcG9uc2VTdHJlYW0ubmV4dChuZXcgUmVzcG9uc2VDb250ZXh0KGNvbnRleHQsIGRhdGEpKTtcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lcnJvclN0cmVhbS5uZXh0KG5ldyBDb21tYW5kQ29udGV4dChjb250ZXh0LmNvbW1hbmQsIGVycm9yKSk7XG4gICAgICAgICAgICByZXNwb25zZVN0cmVhbS5uZXh0KG5ldyBSZXNwb25zZUNvbnRleHQoY29udGV4dCwgbnVsbCwgdHJ1ZSkpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFJlcXVlc3RzLmRlbGV0ZShjb250ZXh0KTtcbiAgICAgICAgICAgIGlmIChjb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRSZXF1ZXN0cy5kZWxldGUoY29udGV4dCk7XG4gICAgICAgICAgICBpZiAoY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgICAgICAvLyBUaGlzIHRpbWVvdXQgZG9lc24ndCBwcmV2ZW50IHRoZSByZXF1ZXN0IGZyb20gY29tcGxldGluZ1xuICAgICAgICAgICAgLy8gSXQgc2ltcGx5IHVuYmxvY2tzIHRoZSBxdWV1ZSwgc28gd2UgY2FuIGNvbnRpbnVlIHRvIHByb2Nlc3MgaXRlbXMuXG4gICAgICAgICAgICAudGltZW91dCh0aGlzLl9vcHRpb25zLmNvbmN1cnJlbmN5VGltZW91dCwgT2JzZXJ2YWJsZS5lbXB0eTxSZXNwb25zZUNvbnRleHQ8YW55LCBhbnk+PigpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9nKG1lc3NhZ2U6IHN0cmluZywgbG9nTGV2ZWw/OiBzdHJpbmcpIHtcbiAgICAgICAgLy8gbG9nIG91ciBjb21wbGV0ZSByZXNwb25zZSB0aW1lXG4gICAgICAgIHRoaXMuX2V2ZW50c1N0cmVhbS5uZXh0KHtcbiAgICAgICAgICAgIEV2ZW50OiAnbG9nJyxcbiAgICAgICAgICAgIEJvZHk6IHtcbiAgICAgICAgICAgICAgICBNZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIExvZ0xldmVsOiBsb2dMZXZlbCA/IGxvZ0xldmVsLnRvVXBwZXJDYXNlKCkgOiAnSU5GT1JNQVRJT04nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgU2VxOiAtMSxcbiAgICAgICAgICAgIFR5cGU6ICdsb2cnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBjb25uZWN0KCkge1xuICAgICAgICAvLyBDdXJyZW50bHkgY29ubmVjdGluZ1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50U3RhdGUgPj0gRHJpdmVyU3RhdGUuRG93bmxvYWRpbmcgJiYgdGhpcy5jdXJyZW50U3RhdGUgPD0gRHJpdmVyU3RhdGUuQ29ubmVjdGVkKSByZXR1cm47XG4gICAgICAgIC8vIEJvb3RzdHJhcCBwbHVnaW5zIGhlcmVcblxuICAgICAgICB0aGlzLl9jdXJyZW50UmVxdWVzdHMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fZHJpdmVyLmNvbm5lY3QoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9yZXNldERyaXZlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RyaXZlcikge1xuICAgICAgICAgICAgdGhpcy5fZGlzcG9zYWJsZS5yZW1vdmUodGhpcy5fZHJpdmVyKTtcbiAgICAgICAgICAgIHRoaXMuX2RyaXZlci5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7ZHJpdmVyfSA9IHRoaXMuX29wdGlvbnM7XG4gICAgICAgIHRoaXMuX2RyaXZlciA9IGRyaXZlcih0aGlzLl9vcHRpb25zKTtcbiAgICAgICAgdGhpcy5fZGlzcG9zYWJsZS5hZGQodGhpcy5fZHJpdmVyKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fZHJpdmVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBkaXNjb25uZWN0KCkge1xuICAgICAgICB0aGlzLl9kcml2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXF1ZXN0PFRSZXF1ZXN0LCBUUmVzcG9uc2U+KGFjdGlvbjogc3RyaW5nLCByZXF1ZXN0PzogVFJlcXVlc3QsIG9wdGlvbnM/OiBPbW5pU2hhcnAuUmVxdWVzdE9wdGlvbnMpOiBPYnNlcnZhYmxlPFRSZXNwb25zZT4ge1xuICAgICAgICBsZXQgY29uZGl0aW9ucyA9IGdldFByZWNvbmRpdGlvbnMoYWN0aW9uKTtcbiAgICAgICAgaWYgKGNvbmRpdGlvbnMpIHsgZWFjaChjb25kaXRpb25zLCB4ID0+IHgocmVxdWVzdCkpOyB9XG5cbiAgICAgICAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0gPE9tbmlTaGFycC5SZXF1ZXN0T3B0aW9ucz57fTtcbiAgICAgICAgLy8gSGFuZGxlIGRpc2Nvbm5lY3RlZCByZXF1ZXN0c1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50U3RhdGUgIT09IERyaXZlclN0YXRlLkNvbm5lY3RlZCAmJiB0aGlzLmN1cnJlbnRTdGF0ZSAhPT0gRHJpdmVyU3RhdGUuRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gbmV3IEFzeW5jU3ViamVjdDxUUmVzcG9uc2U+KCk7XG5cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZmlsdGVyKHogPT4geiA9PT0gRHJpdmVyU3RhdGUuQ29ubmVjdGVkKVxuICAgICAgICAgICAgICAgIC50YWtlKDEpXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSh6ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0PFRSZXF1ZXN0LCBUUmVzcG9uc2U+KGFjdGlvbiwgcmVxdWVzdCwgb3B0aW9ucykuc3Vic2NyaWJlKHggPT4gcmVzcG9uc2UubmV4dCh4KSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiA8T2JzZXJ2YWJsZTxUUmVzcG9uc2U+Pjxhbnk+cmVzcG9uc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gbmV3IFJlcXVlc3RDb250ZXh0KHRoaXMuX3VuaXF1ZUlkLCBhY3Rpb24sIHJlcXVlc3QhLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdFN0cmVhbS5uZXh0KGNvbnRleHQpO1xuXG4gICAgICAgIHJldHVybiBjb250ZXh0LmdldFJlc3BvbnNlPFRSZXNwb25zZT4oPE9ic2VydmFibGU8YW55Pj48YW55PnRoaXMuX3Jlc3BvbnNlU3RyZWFtKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9maXh1cHM6IEFycmF5PChhY3Rpb246IHN0cmluZywgcmVxdWVzdDogYW55LCBvcHRpb25zPzogT21uaVNoYXJwLlJlcXVlc3RPcHRpb25zKSA9PiB2b2lkPiA9IFtdO1xuICAgIHB1YmxpYyByZWdpc3RlckZpeHVwKGZ1bmM6IChhY3Rpb246IHN0cmluZywgcmVxdWVzdDogYW55LCBvcHRpb25zPzogT21uaVNoYXJwLlJlcXVlc3RPcHRpb25zKSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMuX2ZpeHVwcy5wdXNoKGZ1bmMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldFJlc3BvbnNlU3RyZWFtKGtleTogc3RyaW5nKSB7XG4gICAgICAgIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoIXRoaXMuX3Jlc3BvbnNlU3RyZWFtcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgY29uc3Qgc3ViamVjdCA9IG5ldyBTdWJqZWN0PFJlc3BvbnNlQ29udGV4dDxhbnksIGFueT4+KCk7XG4gICAgICAgICAgICBzdWJqZWN0LnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgbmV4dDogYmluZCh0aGlzLl9yZXNwb25zZVN0cmVhbS5uZXh0LCB0aGlzLl9yZXNwb25zZVN0cmVhbSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fcmVzcG9uc2VTdHJlYW1zLnNldChrZXksIHN1YmplY3QpO1xuICAgICAgICAgICAgcmV0dXJuIHN1YmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fcmVzcG9uc2VTdHJlYW1zLmdldChrZXkpITtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9maXh1cDxUUmVxdWVzdD4oYWN0aW9uOiBzdHJpbmcsIHJlcXVlc3Q6IFRSZXF1ZXN0LCBvcHRpb25zPzogT21uaVNoYXJwLlJlcXVlc3RPcHRpb25zKSB7XG4gICAgICAgIGVhY2godGhpcy5fZml4dXBzLCBmID0+IGYoYWN0aW9uLCByZXF1ZXN0LCBvcHRpb25zKSk7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlYWN0aXZlQ2xpZW50IGV4dGVuZHMgT21uaVNoYXJwLkFwaS5WMiB7IH1cblxuZXhwb3J0IGNsYXNzIFJlYWN0aXZlQ2xpZW50RXZlbnRzIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9jbGllbnQ6IFJlYWN0aXZlQ2xpZW50KSB7IH1cblxuICAgIHB1YmxpYyBnZXQgdW5pcXVlSWQoKSB7IHJldHVybiB0aGlzLl9jbGllbnQudW5pcXVlSWQ7IH1cblxuICAgIHB1YmxpYyBsaXN0ZW4oa2V5OiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGdldEludGVybmFsVmFsdWUodGhpcywga2V5KTtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNldEV2ZW50T3JSZXNwb25zZSh0aGlzLCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVhY3RpdmVDbGllbnRFdmVudHMgZXh0ZW5kcyBPbW5pU2hhcnAuRXZlbnRzLlYyLCBPbW5pU2hhcnAuRXZlbnRzIHtcbiAgICAvKnJlYWRvbmx5Ki8gZXZlbnRzOiBPYnNlcnZhYmxlPE9tbmlTaGFycC5TdGRpby5Qcm90b2NvbC5FdmVudFBhY2tldD47XG4gICAgLypyZWFkb25seSovIGNvbW1hbmRzOiBPYnNlcnZhYmxlPE9tbmlTaGFycC5TdGRpby5Qcm90b2NvbC5SZXNwb25zZVBhY2tldD47XG4gICAgLypyZWFkb25seSovIHN0YXRlOiBPYnNlcnZhYmxlPERyaXZlclN0YXRlPjtcbiAgICAvKnJlYWRvbmx5Ki8gc3RhdHVzOiBPYnNlcnZhYmxlPE9tbmlzaGFycENsaWVudFN0YXR1cz47XG4gICAgLypyZWFkb25seSovIHJlcXVlc3RzOiBPYnNlcnZhYmxlPFJlcXVlc3RDb250ZXh0PGFueT4+O1xuICAgIC8qcmVhZG9ubHkqLyByZXNwb25zZXM6IE9ic2VydmFibGU8UmVzcG9uc2VDb250ZXh0PGFueSwgYW55Pj47XG4gICAgLypyZWFkb25seSovIGVycm9yczogT2JzZXJ2YWJsZTxDb21tYW5kQ29udGV4dDxhbnk+Pjtcbn1cblxucmVmZXJlbmNlKFJlYWN0aXZlQ2xpZW50RXZlbnRzLnByb3RvdHlwZSwgJ2V2ZW50cycsICdldmVudHMnKTtcbnJlZmVyZW5jZShSZWFjdGl2ZUNsaWVudEV2ZW50cy5wcm90b3R5cGUsICdjb21tYW5kcycsICdjb21tYW5kcycpO1xucmVmZXJlbmNlKFJlYWN0aXZlQ2xpZW50RXZlbnRzLnByb3RvdHlwZSwgJ3N0YXRlJywgJ3N0YXRlJyk7XG5yZWZlcmVuY2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCAnc3RhdHVzJywgJ3N0YXR1cycpO1xucmVmZXJlbmNlKFJlYWN0aXZlQ2xpZW50RXZlbnRzLnByb3RvdHlwZSwgJ3JlcXVlc3RzJywgJ3JlcXVlc3RzJyk7XG5yZWZlcmVuY2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCAncmVzcG9uc2VzJywgJ3Jlc3BvbnNlcycpO1xucmVmZXJlbmNlKFJlYWN0aXZlQ2xpZW50RXZlbnRzLnByb3RvdHlwZSwgJ2Vycm9ycycsICdlcnJvcnMnKTtcblxuXG4vLyA8I0dFTkVSQVRFRCAvPlxucmVxdWVzdChSZWFjdGl2ZUNsaWVudC5wcm90b3R5cGUsIFwiZ2V0dGVzdHN0YXJ0aW5mb1wiKTtcbnJlcXVlc3QoUmVhY3RpdmVDbGllbnQucHJvdG90eXBlLCBcInJ1bnRlc3RcIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJhdXRvY29tcGxldGVcIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJjaGFuZ2VidWZmZXJcIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJjb2RlY2hlY2tcIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJjb2RlZm9ybWF0XCIpO1xucmVxdWVzdChSZWFjdGl2ZUNsaWVudC5wcm90b3R5cGUsIFwiZGlhZ25vc3RpY3NcIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJjbG9zZVwiKTtcbnJlcXVlc3QoUmVhY3RpdmVDbGllbnQucHJvdG90eXBlLCBcIm9wZW5cIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJmaWxlc0NoYW5nZWRcIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJmaW5kaW1wbGVtZW50YXRpb25zXCIpO1xucmVxdWVzdChSZWFjdGl2ZUNsaWVudC5wcm90b3R5cGUsIFwiZmluZHN5bWJvbHNcIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJmaW5kdXNhZ2VzXCIpO1xucmVxdWVzdChSZWFjdGl2ZUNsaWVudC5wcm90b3R5cGUsIFwiZml4dXNpbmdzXCIpO1xucmVxdWVzdChSZWFjdGl2ZUNsaWVudC5wcm90b3R5cGUsIFwiZm9ybWF0QWZ0ZXJLZXlzdHJva2VcIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJmb3JtYXRSYW5nZVwiKTtcbnJlcXVlc3QoUmVhY3RpdmVDbGllbnQucHJvdG90eXBlLCBcImdldGNvZGVhY3Rpb25zXCIpO1xucmVxdWVzdChSZWFjdGl2ZUNsaWVudC5wcm90b3R5cGUsIFwiZ290b2RlZmluaXRpb25cIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJnb3RvZmlsZVwiKTtcbnJlcXVlc3QoUmVhY3RpdmVDbGllbnQucHJvdG90eXBlLCBcImdvdG9yZWdpb25cIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJoaWdobGlnaHRcIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJjdXJyZW50ZmlsZW1lbWJlcnNhc2ZsYXRcIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJjdXJyZW50ZmlsZW1lbWJlcnNhc3RyZWVcIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJtZXRhZGF0YVwiKTtcbnJlcXVlc3QoUmVhY3RpdmVDbGllbnQucHJvdG90eXBlLCBcIm5hdmlnYXRlZG93blwiKTtcbnJlcXVlc3QoUmVhY3RpdmVDbGllbnQucHJvdG90eXBlLCBcIm5hdmlnYXRldXBcIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJwYWNrYWdlc2VhcmNoXCIpO1xucmVxdWVzdChSZWFjdGl2ZUNsaWVudC5wcm90b3R5cGUsIFwicGFja2FnZXNvdXJjZVwiKTtcbnJlcXVlc3QoUmVhY3RpdmVDbGllbnQucHJvdG90eXBlLCBcInBhY2thZ2V2ZXJzaW9uXCIpO1xucmVxdWVzdChSZWFjdGl2ZUNsaWVudC5wcm90b3R5cGUsIFwicmVuYW1lXCIpO1xucmVxdWVzdChSZWFjdGl2ZUNsaWVudC5wcm90b3R5cGUsIFwicnVuY29kZWFjdGlvblwiKTtcbnJlcXVlc3QoUmVhY3RpdmVDbGllbnQucHJvdG90eXBlLCBcInNpZ25hdHVyZUhlbHBcIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJnZXR0ZXN0Y29udGV4dFwiKTtcbnJlcXVlc3QoUmVhY3RpdmVDbGllbnQucHJvdG90eXBlLCBcInR5cGVsb29rdXBcIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJ1cGRhdGVidWZmZXJcIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJwcm9qZWN0XCIpO1xucmVxdWVzdChSZWFjdGl2ZUNsaWVudC5wcm90b3R5cGUsIFwicHJvamVjdHNcIik7XG5yZXF1ZXN0KFJlYWN0aXZlQ2xpZW50LnByb3RvdHlwZSwgXCJjaGVja2FsaXZlc3RhdHVzXCIpO1xucmVxdWVzdChSZWFjdGl2ZUNsaWVudC5wcm90b3R5cGUsIFwiY2hlY2tyZWFkeXN0YXR1c1wiKTtcbnJlcXVlc3QoUmVhY3RpdmVDbGllbnQucHJvdG90eXBlLCBcInN0b3BzZXJ2ZXJcIik7XG5yZXNwb25zZShSZWFjdGl2ZUNsaWVudEV2ZW50cy5wcm90b3R5cGUsIFwiZ2V0dGVzdHN0YXJ0aW5mb1wiLCBcIi92Mi9nZXR0ZXN0c3RhcnRpbmZvXCIpO1xucmVzcG9uc2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcInJ1bnRlc3RcIiwgXCIvdjIvcnVudGVzdFwiKTtcbnJlc3BvbnNlKFJlYWN0aXZlQ2xpZW50RXZlbnRzLnByb3RvdHlwZSwgXCJhdXRvY29tcGxldGVcIiwgXCIvYXV0b2NvbXBsZXRlXCIpO1xucmVzcG9uc2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcImNoYW5nZWJ1ZmZlclwiLCBcIi9jaGFuZ2VidWZmZXJcIik7XG5yZXNwb25zZShSZWFjdGl2ZUNsaWVudEV2ZW50cy5wcm90b3R5cGUsIFwiY29kZWNoZWNrXCIsIFwiL2NvZGVjaGVja1wiKTtcbnJlc3BvbnNlKFJlYWN0aXZlQ2xpZW50RXZlbnRzLnByb3RvdHlwZSwgXCJjb2RlZm9ybWF0XCIsIFwiL2NvZGVmb3JtYXRcIik7XG5yZXNwb25zZShSZWFjdGl2ZUNsaWVudEV2ZW50cy5wcm90b3R5cGUsIFwiZGlhZ25vc3RpY3NcIiwgXCIvZGlhZ25vc3RpY3NcIik7XG5yZXNwb25zZShSZWFjdGl2ZUNsaWVudEV2ZW50cy5wcm90b3R5cGUsIFwiY2xvc2VcIiwgXCIvY2xvc2VcIik7XG5yZXNwb25zZShSZWFjdGl2ZUNsaWVudEV2ZW50cy5wcm90b3R5cGUsIFwib3BlblwiLCBcIi9vcGVuXCIpO1xucmVzcG9uc2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcImZpbGVzQ2hhbmdlZFwiLCBcIi9maWxlc0NoYW5nZWRcIik7XG5yZXNwb25zZShSZWFjdGl2ZUNsaWVudEV2ZW50cy5wcm90b3R5cGUsIFwiZmluZGltcGxlbWVudGF0aW9uc1wiLCBcIi9maW5kaW1wbGVtZW50YXRpb25zXCIpO1xucmVzcG9uc2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcImZpbmRzeW1ib2xzXCIsIFwiL2ZpbmRzeW1ib2xzXCIpO1xucmVzcG9uc2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcImZpbmR1c2FnZXNcIiwgXCIvZmluZHVzYWdlc1wiKTtcbnJlc3BvbnNlKFJlYWN0aXZlQ2xpZW50RXZlbnRzLnByb3RvdHlwZSwgXCJmaXh1c2luZ3NcIiwgXCIvZml4dXNpbmdzXCIpO1xucmVzcG9uc2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcImZvcm1hdEFmdGVyS2V5c3Ryb2tlXCIsIFwiL2Zvcm1hdEFmdGVyS2V5c3Ryb2tlXCIpO1xucmVzcG9uc2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcImZvcm1hdFJhbmdlXCIsIFwiL2Zvcm1hdFJhbmdlXCIpO1xucmVzcG9uc2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcImdldGNvZGVhY3Rpb25zXCIsIFwiL3YyL2dldGNvZGVhY3Rpb25zXCIpO1xucmVzcG9uc2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcImdvdG9kZWZpbml0aW9uXCIsIFwiL2dvdG9kZWZpbml0aW9uXCIpO1xucmVzcG9uc2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcImdvdG9maWxlXCIsIFwiL2dvdG9maWxlXCIpO1xucmVzcG9uc2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcImdvdG9yZWdpb25cIiwgXCIvZ290b3JlZ2lvblwiKTtcbnJlc3BvbnNlKFJlYWN0aXZlQ2xpZW50RXZlbnRzLnByb3RvdHlwZSwgXCJoaWdobGlnaHRcIiwgXCIvaGlnaGxpZ2h0XCIpO1xucmVzcG9uc2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcImN1cnJlbnRmaWxlbWVtYmVyc2FzZmxhdFwiLCBcIi9jdXJyZW50ZmlsZW1lbWJlcnNhc2ZsYXRcIik7XG5yZXNwb25zZShSZWFjdGl2ZUNsaWVudEV2ZW50cy5wcm90b3R5cGUsIFwiY3VycmVudGZpbGVtZW1iZXJzYXN0cmVlXCIsIFwiL2N1cnJlbnRmaWxlbWVtYmVyc2FzdHJlZVwiKTtcbnJlc3BvbnNlKFJlYWN0aXZlQ2xpZW50RXZlbnRzLnByb3RvdHlwZSwgXCJtZXRhZGF0YVwiLCBcIi9tZXRhZGF0YVwiKTtcbnJlc3BvbnNlKFJlYWN0aXZlQ2xpZW50RXZlbnRzLnByb3RvdHlwZSwgXCJuYXZpZ2F0ZWRvd25cIiwgXCIvbmF2aWdhdGVkb3duXCIpO1xucmVzcG9uc2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcIm5hdmlnYXRldXBcIiwgXCIvbmF2aWdhdGV1cFwiKTtcbnJlc3BvbnNlKFJlYWN0aXZlQ2xpZW50RXZlbnRzLnByb3RvdHlwZSwgXCJwYWNrYWdlc2VhcmNoXCIsIFwiL3BhY2thZ2VzZWFyY2hcIik7XG5yZXNwb25zZShSZWFjdGl2ZUNsaWVudEV2ZW50cy5wcm90b3R5cGUsIFwicGFja2FnZXNvdXJjZVwiLCBcIi9wYWNrYWdlc291cmNlXCIpO1xucmVzcG9uc2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcInBhY2thZ2V2ZXJzaW9uXCIsIFwiL3BhY2thZ2V2ZXJzaW9uXCIpO1xucmVzcG9uc2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcInJlbmFtZVwiLCBcIi9yZW5hbWVcIik7XG5yZXNwb25zZShSZWFjdGl2ZUNsaWVudEV2ZW50cy5wcm90b3R5cGUsIFwicnVuY29kZWFjdGlvblwiLCBcIi92Mi9ydW5jb2RlYWN0aW9uXCIpO1xucmVzcG9uc2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcInNpZ25hdHVyZUhlbHBcIiwgXCIvc2lnbmF0dXJlSGVscFwiKTtcbnJlc3BvbnNlKFJlYWN0aXZlQ2xpZW50RXZlbnRzLnByb3RvdHlwZSwgXCJnZXR0ZXN0Y29udGV4dFwiLCBcIi9nZXR0ZXN0Y29udGV4dFwiKTtcbnJlc3BvbnNlKFJlYWN0aXZlQ2xpZW50RXZlbnRzLnByb3RvdHlwZSwgXCJ0eXBlbG9va3VwXCIsIFwiL3R5cGVsb29rdXBcIik7XG5yZXNwb25zZShSZWFjdGl2ZUNsaWVudEV2ZW50cy5wcm90b3R5cGUsIFwidXBkYXRlYnVmZmVyXCIsIFwiL3VwZGF0ZWJ1ZmZlclwiKTtcbnJlc3BvbnNlKFJlYWN0aXZlQ2xpZW50RXZlbnRzLnByb3RvdHlwZSwgXCJwcm9qZWN0XCIsIFwiL3Byb2plY3RcIik7XG5yZXNwb25zZShSZWFjdGl2ZUNsaWVudEV2ZW50cy5wcm90b3R5cGUsIFwicHJvamVjdHNcIiwgXCIvcHJvamVjdHNcIik7XG5yZXNwb25zZShSZWFjdGl2ZUNsaWVudEV2ZW50cy5wcm90b3R5cGUsIFwiY2hlY2thbGl2ZXN0YXR1c1wiLCBcIi9jaGVja2FsaXZlc3RhdHVzXCIpO1xucmVzcG9uc2UoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcImNoZWNrcmVhZHlzdGF0dXNcIiwgXCIvY2hlY2tyZWFkeXN0YXR1c1wiKTtcbnJlc3BvbnNlKFJlYWN0aXZlQ2xpZW50RXZlbnRzLnByb3RvdHlwZSwgXCJzdG9wc2VydmVyXCIsIFwiL3N0b3BzZXJ2ZXJcIik7XG5ldmVudChSZWFjdGl2ZUNsaWVudEV2ZW50cy5wcm90b3R5cGUsIFwicHJvamVjdEFkZGVkXCIpO1xuZXZlbnQoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcInByb2plY3RDaGFuZ2VkXCIpO1xuZXZlbnQoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcInByb2plY3RSZW1vdmVkXCIpO1xuZXZlbnQoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcImVycm9yXCIpO1xuZXZlbnQoUmVhY3RpdmVDbGllbnRFdmVudHMucHJvdG90eXBlLCBcImRpYWdub3N0aWNcIik7XG5ldmVudChSZWFjdGl2ZUNsaWVudEV2ZW50cy5wcm90b3R5cGUsIFwibXNCdWlsZFByb2plY3REaWFnbm9zdGljc1wiKTtcbmV2ZW50KFJlYWN0aXZlQ2xpZW50RXZlbnRzLnByb3RvdHlwZSwgXCJwYWNrYWdlUmVzdG9yZVN0YXJ0ZWRcIik7XG5ldmVudChSZWFjdGl2ZUNsaWVudEV2ZW50cy5wcm90b3R5cGUsIFwicGFja2FnZVJlc3RvcmVGaW5pc2hlZFwiKTtcbmV2ZW50KFJlYWN0aXZlQ2xpZW50RXZlbnRzLnByb3RvdHlwZSwgXCJ1bnJlc29sdmVkRGVwZW5kZW5jaWVzXCIpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
