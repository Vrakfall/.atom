import * as OmniSharp from "../omnisharp-server";
import { IDriver, IDriverOptions, Runtime, IOmnisharpPlugin } from "../enums";
import { DriverState } from "../enums";
import { Observable } from "rxjs";
export declare class StdioDriver implements IDriver {
    private _seq;
    private _process;
    private _outstandingRequests;
    private _projectPath;
    private _additionalArguments;
    private _disposable;
    private _plugins;
    private _serverPath;
    private _findProject;
    private _logger;
    private _timeout;
    private _runtime;
    private _version;
    private _PATH;
    private _runtimeContext;
    id: string;
    private _currentState;
    currentState: DriverState;
    constructor({projectPath, serverPath, findProject, logger, timeout, additionalArguments, runtime, plugins, version}: IDriverOptions);
    private _getRuntimeContext();
    dispose(): void;
    serverPath: string;
    projectPath: string;
    runtime: Runtime;
    private _commandStream;
    commands: Observable<OmniSharp.Stdio.Protocol.ResponsePacket>;
    private _eventStream;
    events: Observable<OmniSharp.Stdio.Protocol.EventPacket>;
    private _connectionStream;
    state: Observable<DriverState>;
    outstandingRequests: number;
    connect(): void;
    private _connect();
    private _ensureRuntimeExists();
    updatePlugins(plugins: IOmnisharpPlugin[]): void;
    private serverErr(data);
    private parseError(data);
    disconnect(): void;
    request<TRequest, TResponse>(command: string, request?: TRequest): Observable<TResponse>;
    private handleData(data);
    private handlePacket(packet);
    private handlePacketResponse(response);
    private handlePacketEvent(event);
    private handleNonPacket(data);
}
